<template>
    <c-web-spinner class="main-spinner" fixed="true"></c-web-spinner>

    <template if:true={isInitialized}>
        <!-- DESKTOP VIEW -->
        <div class={headerPanelClass}>
            <template if:false={isMobile}>
                <div class={cardRTL}>
                    <div class="as-title">{label.PP_Password_Management}</div>
                    <!-- Form -->
                    <lightning-layout class="mb-15">
                        <lightning-layout-item size="5">
                            <div class="slds-form-element">
                                <label
                                    class="slds-form-element__label field-title"
                                    for="current-password"
                                >
                                    {label.PG_AS_F_Current_Password}</label
                                >
                                <span class="cp-red">*</span>
                                <div
                                    class="slds-form-element__control slds-p-top_xx-small pp-change-pwd profile-info-input change-password"
                                >
                                    <div data-id="1" onclick={togglePassword} class={iconEye}>
                                        <lightning-icon
                                            icon-name={currentPasswordEyeIcon}
                                            size="x-small"
                                            icon-color={toggleCurrentPasswordMaskIcon}
                                            title={currentPasswordEyeIconTitle}
                                        ></lightning-icon>
                                    </div>
                                    <lightning-input
                                        type={passwordInputType}
                                        data-id="current-password"
                                        variant="label-hidden"
                                        class={currentPasswordCssClass}
                                        value={currentPassword}
                                        onchange={onChangeInput}
                                        data-label="old"
                                    ></lightning-input>
                                </div>
                                <template if:true={incorrectOldPassword}>
                                    <div class="red">{label.PP_Incorrect_password}</div>
                                </template>
                            </div>
                        </lightning-layout-item>
                    </lightning-layout>

                    <lightning-layout multiple-rows="true" class="mb-15">
                        <lightning-layout-item size="5">
                            <div class="slds-form-element">
                                <label
                                    class="slds-form-element__label field-title"
                                    for="new-password"
                                >
                                    {label.PG_AS_F_New_password}</label
                                >
                                <span class="cp-red">*</span>
                                <div
                                    class="slds-form-element__control slds-p-top_xx-small pp-change-pwd profile-info-input change-password"
                                >
                                    <span data-id="2" onclick={togglePassword} class={iconEye}>
                                        <lightning-icon
                                            icon-name={newCurrentPasswordEyeIcon}
                                            size="x-small"
                                            icon-color={toggleNewPasswordMaskIcon}
                                            title={newCurrentPasswordEyeIconTitle}
                                        ></lightning-icon>
                                    </span>
                                    <lightning-input
                                        type={passwordInputType}
                                        data-id="newe-password"
                                        variant="label-hidden"
                                        class={newPasswordCssClass}
                                        value={newPassword}
                                        onchange={onChangeInput}
                                        data-label="new"
                                    ></lightning-input>
                                </div>
                                <template if:true={passwordDoNotMatchCriterion}>
                                    <div class="red">{label.PP_PasswordCriteriaNotMet}</div>
                                </template>
                            </div>
                        </lightning-layout-item>

                        <lightning-layout-item size="5">
                            <div class={reNewMargin}>
                                <label
                                    class="slds-form-element__label field-title"
                                    for="reenter-password"
                                >
                                    {label.PP_AS_F_Re_enter_new_password}</label
                                >
                                <span class="cp-red">*</span>
                                <div
                                    class="slds-form-element__control slds-p-top_xx-small pp-change-pwd profile-info-input change-password"
                                >
                                    <span data-id="3" onclick={togglePassword} class={iconEye}>
                                        <lightning-icon
                                            icon-name={reNewCurrentPasswordEyeIcon}
                                            size="x-small"
                                            icon-color={toggleReNewPasswordMaskIcon}
                                            title={reNewCurrentPasswordEyeIconTitle}
                                        ></lightning-icon>
                                    </span>
                                    <lightning-input
                                        type={passwordInputType}
                                        data-id="reenter-password"
                                        variant="label-hidden"
                                        class={reNewPasswordCssClass}
                                        value={reNewPassword}
                                        onchange={onChangeInput}
                                        data-label="renew"
                                    ></lightning-input>
                                </div>
                                <template if:true={passwordDoNotMatch}>
                                    <div class="red">{label.PPLite_PasswordsMismatch}</div>
                                </template>
                            </div>
                        </lightning-layout-item>
                    </lightning-layout>

                    <!-- Instructions -->
                    <lightning-layout multiple-rows="true" class="mb-15">
                        <lightning-layout-item size="12">
                            <div class="as-title-small">{label.PP_Password_Requirements}</div>
                        </lightning-layout-item>

                        <lightning-layout-item size="12">
                            <div class="password-must-includ">{label.Pswd_Your_Pswd_Include}</div>
                            <div>
                                <!-- icon should come here -->
                                <template if:true={length}>
                                    <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        class="icon-check-green"
                                    >
                                        <use xlink:href={check}></use>
                                    </svg>
                                    <span class="pass-characters-green">
                                        {label.Pswd_8_Characters}
                                    </span>
                                </template>
                                <template if:false={length}>
                                    <lightning-icon
                                        icon-name="utility:close"
                                        alternative-text="close"
                                        size="x-small"
                                    ></lightning-icon>
                                    <span class="pass-characters"> {label.Pswd_8_Characters} </span>
                                </template>
                            </div>
                        </lightning-layout-item>

                        <lightning-layout-item size="12" class="mb-20">
                            <div class="password-must-includ">{label.Pswd_Include_Any_3}</div>
                            <div>
                                <!-- icon should come here -->
                                <template if:true={numbers}>
                                    <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        class="icon-check-green"
                                    >
                                        <use xlink:href={check}></use>
                                    </svg>
                                    <span class="pass-characters-green">
                                        {label.Pswd_Numbers}
                                    </span>
                                </template>
                                <template if:false={numbers}>
                                    <lightning-icon
                                        icon-name="utility:close"
                                        alternative-text="close"
                                        size="x-small"
                                    ></lightning-icon>
                                    <span class="pass-characters"> {label.Pswd_Numbers} </span>
                                </template>
                            </div>
                            <div>
                                <!-- icon should come here -->
                                <template if:true={caps}>
                                    <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        class="icon-check-green"
                                    >
                                        <use xlink:href={check}></use>
                                    </svg>
                                    <span class="pass-characters-green">
                                        {label.Pswd_Uppercase}
                                    </span>
                                </template>
                                <template if:false={caps}>
                                    <lightning-icon
                                        icon-name="utility:close"
                                        alternative-text="close"
                                        size="x-small"
                                    ></lightning-icon>
                                    <span class="pass-characters"> {label.Pswd_Uppercase} </span>
                                </template>
                            </div>
                            <div>
                                <!-- icon should come here -->
                                <template if:true={small}>
                                    <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        class="icon-check-green"
                                    >
                                        <use xlink:href={check}></use>
                                    </svg>
                                    <span class="pass-characters-green">
                                        {label.Pswd_Lowercase}
                                    </span>
                                </template>
                                <template if:false={small}>
                                    <lightning-icon
                                        icon-name="utility:close"
                                        alternative-text="close"
                                        size="x-small"
                                    ></lightning-icon>
                                    <span class="pass-characters"> {label.Pswd_Lowercase} </span>
                                </template>
                            </div>
                            <div>
                                <!-- icon should come here -->
                                <template if:true={special}>
                                    <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        class="icon-check-green"
                                    >
                                        <use xlink:href={check}></use>
                                    </svg>
                                    <span class="pass-characters-green">
                                        {label.Pswd_Special_Characters}
                                    </span>
                                </template>
                                <template if:false={special}>
                                    <lightning-icon
                                        icon-name="utility:close"
                                        alternative-text="close"
                                        size="x-small"
                                    ></lightning-icon>
                                    <span class="pass-characters">
                                        &nbsp;{label.Pswd_Special_Characters}
                                    </span>
                                </template>
                            </div>
                        </lightning-layout-item>

                        <lightning-layout-item size="12">
                            <button
                                class="slds-button updateButton slds-button_brand apollo-btn primary"
                                onclick={doChangePassword}
                                data-id="updateBtn"
                                disabled
                            >
                                {label.PG_AS_F_Update_Password}
                            </button>
                        </lightning-layout-item>
                    </lightning-layout>
                </div>
            </template>

            <template if:true={isMobile}>
                <div class={cardRTL}>
                    <lightning-layout>
                        <lightning-layout-item size="12">
                            <div class="back-button">
                                <template if:false={isRTL}>
                                    <c-web-icon
                                        icon-size="medium"
                                        icon-name={iconChevron}
                                        icon-color="#297dfd"
                                    >
                                    </c-web-icon>
                                </template>
                                <span
                                    class="slds-p-left_x-small slds-p-right_x-small"
                                    onclick={showMenuBar}
                                    data-header="password-change"
                                    >{label.BACK}</span
                                >
                                <template if:true={isRTL}>
                                    <c-web-icon
                                        icon-size="medium"
                                        icon-name={iconChevron}
                                        icon-color="#297dfd"
                                    >
                                    </c-web-icon>
                                </template>
                            </div>
                        </lightning-layout-item>
                    </lightning-layout>
                    <div class="as-title">{label.PP_Password_Management}</div>
                    <!-- Form -->
                    <lightning-layout multiple-rows="true" class="mb-15">
                        <lightning-layout-item size="12" class="mb-20">
                            <div class="slds-form-element">
                                <label
                                    class="slds-form-element__label field-title"
                                    for="current-password"
                                >
                                    {label.PG_AS_F_Current_Password}</label
                                >
                                <span class="cp-red">*</span>
                                <div
                                    class="slds-form-element__control slds-p-top_xx-small pp-change-pwd profile-info-input change-password"
                                >
                                    <div data-id="1" onclick={togglePassword} class={iconEyeMobile}>
                                        <lightning-icon
                                            icon-name={currentPasswordEyeIcon}
                                            size="x-small"
                                            icon-color={toggleCurrentPasswordMaskIcon}
                                        ></lightning-icon>
                                    </div>
                                    <lightning-input
                                        type={passwordInputType}
                                        data-id="current-password"
                                        variant="label-hidden"
                                        class={currentPasswordCssClass}
                                        value={currentPassword}
                                        onchange={onChangeInput}
                                        data-label="old"
                                    ></lightning-input>
                                </div>
                                <template if:true={incorrectOldPassword}>
                                    <div class="red">{label.PP_Incorrect_password}</div>
                                </template>
                            </div>
                        </lightning-layout-item>

                        <lightning-layout-item size="12" class="mb-20">
                            <div class="slds-form-element">
                                <label
                                    class="slds-form-element__label field-title"
                                    for="new-password"
                                >
                                    {label.PG_AS_F_New_password}</label
                                >
                                <span class="cp-red">*</span>
                                <div
                                    class="slds-form-element__control slds-p-top_xx-small pp-change-pwd profile-info-input change-password"
                                >
                                    <span
                                        data-id="2"
                                        onclick={togglePassword}
                                        class={iconEyeMobile}
                                    >
                                        <lightning-icon
                                            icon-name={newCurrentPasswordEyeIcon}
                                            size="x-small"
                                            icon-color={toggleNewPasswordMaskIcon}
                                        ></lightning-icon>
                                    </span>
                                    <lightning-input
                                        type={passwordInputType}
                                        data-id="newe-password"
                                        variant="label-hidden"
                                        class={newPasswordCssClass}
                                        value={newPassword}
                                        onchange={onChangeInput}
                                        data-label="new"
                                    ></lightning-input>
                                </div>
                                <template if:true={passwordDoNotMatchCriterion}>
                                    <div class="red">{label.PP_PasswordCriteriaNotMet}</div>
                                </template>
                            </div>
                        </lightning-layout-item>

                        <lightning-layout-item size="12" class="mb-20">
                            <div class="slds-form-element">
                                <label
                                    class="slds-form-element__label field-title"
                                    for="reenter-password"
                                >
                                    {label.PP_AS_F_Re_enter_new_password}</label
                                >
                                <span class="cp-red">*</span>
                                <div
                                    class="slds-form-element__control slds-p-top_xx-small pp-change-pwd profile-info-input change-password"
                                >
                                    <span
                                        data-id="3"
                                        onclick={togglePassword}
                                        class={iconEyeMobile}
                                    >
                                        <lightning-icon
                                            icon-name={reNewCurrentPasswordEyeIcon}
                                            size="x-small"
                                            icon-color={toggleReNewPasswordMaskIcon}
                                        ></lightning-icon>
                                    </span>
                                    <lightning-input
                                        type={passwordInputType}
                                        data-id="reenter-password"
                                        variant="label-hidden"
                                        class={reNewPasswordCssClass}
                                        value={reNewPassword}
                                        onchange={onChangeInput}
                                        data-label="renew"
                                    ></lightning-input>
                                </div>
                                <template if:true={passwordDoNotMatch}>
                                    <div class="red">{label.PPLite_PasswordsMismatch}</div>
                                </template>
                            </div>
                        </lightning-layout-item>
                    </lightning-layout>

                    <!-- Instructions -->
                    <lightning-layout multiple-rows="true" class="mb-15">
                        <lightning-layout-item size="12">
                            <div class="as-title-small">{label.PP_Password_Requirements}</div>
                        </lightning-layout-item>

                        <lightning-layout-item size="12">
                            <div class="password-must-includ">{label.Pswd_Your_Pswd_Include}</div>
                            <div>
                                <!-- icon should come here -->
                                <template if:true={length}>
                                    <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        class="icon-check-green"
                                    >
                                        <use xlink:href={check}></use>
                                    </svg>
                                    <span class="pass-characters-green">
                                        {label.Pswd_8_Characters}
                                    </span>
                                </template>
                                <template if:false={length}>
                                    <lightning-icon
                                        icon-name="utility:close"
                                        alternative-text="close"
                                        size="x-small"
                                    ></lightning-icon>
                                    <span class="pass-characters"> {label.Pswd_8_Characters} </span>
                                </template>
                            </div>
                        </lightning-layout-item>

                        <lightning-layout-item size="12" class="mb-20">
                            <div class="password-must-includ">{label.Pswd_Include_Any_3}</div>
                            <div>
                                <!-- icon should come here -->
                                <template if:true={numbers}>
                                    <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        class="icon-check-green"
                                    >
                                        <use xlink:href={check}></use>
                                    </svg>
                                    <span class="pass-characters-green">
                                        {label.Pswd_Numbers}
                                    </span>
                                </template>
                                <template if:false={numbers}>
                                    <lightning-icon
                                        icon-name="utility:close"
                                        alternative-text="close"
                                        size="x-small"
                                    ></lightning-icon>
                                    <span class="pass-characters"> {label.Pswd_Numbers} </span>
                                </template>
                            </div>
                            <div>
                                <!-- icon should come here -->
                                <template if:true={caps}>
                                    <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        class="icon-check-green"
                                    >
                                        <use xlink:href={check}></use>
                                    </svg>
                                    <span class="pass-characters-green">
                                        {label.Pswd_Uppercase}
                                    </span>
                                </template>
                                <template if:false={caps}>
                                    <lightning-icon
                                        icon-name="utility:close"
                                        alternative-text="close"
                                        size="x-small"
                                    ></lightning-icon>
                                    <span class="pass-characters"> {label.Pswd_Uppercase} </span>
                                </template>
                            </div>
                            <div>
                                <!-- icon should come here -->
                                <template if:true={small}>
                                    <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        class="icon-check-green"
                                    >
                                        <use xlink:href={check}></use>
                                    </svg>
                                    <span class="pass-characters-green">
                                        {label.Pswd_Lowercase}
                                    </span>
                                </template>
                                <template if:false={small}>
                                    <lightning-icon
                                        icon-name="utility:close"
                                        alternative-text="close"
                                        size="x-small"
                                    ></lightning-icon>
                                    <span class="pass-characters"> {label.Pswd_Lowercase} </span>
                                </template>
                            </div>
                            <div>
                                <!-- icon should come here -->
                                <template if:true={special}>
                                    <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        class="icon-check-green"
                                    >
                                        <use xlink:href={check}></use>
                                    </svg>
                                    <span class="pass-characters-green">
                                        {label.Pswd_Special_Characters}
                                    </span>
                                </template>
                                <template if:false={special}>
                                    <lightning-icon
                                        icon-name="utility:close"
                                        alternative-text="close"
                                        size="x-small"
                                    ></lightning-icon>
                                    <span class="pass-characters">
                                        &nbsp;{label.Pswd_Special_Characters}
                                    </span>
                                </template>
                            </div>
                        </lightning-layout-item>

                        <lightning-layout-item size="12">
                            <button
                                class="slds-button updateButtonMobile slds-button_brand apollo-btn primary"
                                onclick={doChangePassword}
                                data-id="updateBtn"
                                disabled
                            >
                                {label.PG_AS_F_Update_Password}
                            </button>
                        </lightning-layout-item>
                    </lightning-layout>
                </div>
            </template>
        </div>
    </template>
</template>
