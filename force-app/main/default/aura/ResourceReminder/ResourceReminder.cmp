<!--
  - Created by Yehor Dobrovolskyi
 -->
<aura:component description="ResourceReminder"
                implements="flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId"
controller="ResourceReminderRemote">

    <aura:attribute name="reminders" type="ResourceReminderService.Reminder[]"/>

    <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>
    <aura:handler event="force:refreshView" action="{!c.onLog}"/>

    <force:recordData recordId="{!v.recordId}"
                      targetFields="Id"
                      layoutType="COMPACT"
                      recordUpdated="{!c.doInit}"
    />

    <aura:if isTrue="{!!empty(v.reminders)}">
        <lightning:card>
        <aura:iteration var="rem" items="{!v.reminders}">
            <div class="reminder-text">
            {!rem.reminderLabel}
            </div>
        </aura:iteration>
        </lightning:card>
    </aura:if>

</aura:component>
