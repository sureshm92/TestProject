<template>
    <template if:false={isMobile}>
        <lightning-layout multiple-rows="true">
            <lightning-layout-item size="12" class="parent-chat-item-sec" id="messageBody">
                <template if:true={selectConWrap}>
                    <lightning-layout>
                        <lightning-layout-item size="12" class="child-chat-item-sec">
                            <template
                                for:each={selectConWrap.messages}
                                for:item="msWr"
                                for:index="index"
                            >
                                <c-pp-message-item
                                    key={msWr.message.Id}
                                    msg-item={msWr}
                                    msg-index={index}
                                    user-id={userId}
                                    message_attachment={message_attachment}
                                    file_default={file_default}
                                    is-secondary={isSecondary}
                                    is-mobile={isMobile}
                                ></c-pp-message-item>
                            </template>
                        </lightning-layout-item>
                    </lightning-layout>
                </template>
                <template if:false={selectConWrap}>
                    <div
                        class="slds-grid slds-grid_vertical-align-center slds-grid_align-center medium"
                    >
                        <div class="slds-col">
                            <p><img src={msgIllustration} /></p>
                            <p class="slds-m-top_small empty-msg">{labels.PP_No_Messages}</p>
                            <p class="empty-msg">{labels.PP_Select_Question_Below}</p>
                        </div>
                    </div>
                </template>
            </lightning-layout-item>
            <template if:false={isPastStudy}>
                <lightning-layout-item size="12" class="question-item">
                    <lightning-layout>
                        <lightning-layout-item size="9">
                            <lightning-combobox
                                name="message"
                                value={messageValue}
                                placeholder={labels.PP_Select_Question}
                                options={options}
                                onchange={handleChange}
                                class="selection"
                                onfocus={handleChanges}
                                dropdown-alignment="bottom-left"
                            >
                            </lightning-combobox>
                        </lightning-layout-item>
                        <lightning-layout-item size="3" class="send-button">
                            <button
                                class="primaryBtn ms-send-button"
                                data-gtm="ms-send-pa-button"
                                onclick={handleSendClick}
                                disabled={handleValidation}
                            >
                                {labels.BTN_Send}
                            </button>
                        </lightning-layout-item>
                    </lightning-layout>
                </lightning-layout-item>
            </template>
        </lightning-layout>
    </template>
    <template if:true={isMobile}>
        <lightning-layout
            ><lightning-layout-item size="12" class="mob-parent-chat-item-sec" id="mobMessageBody">
                <template if:true={selectConWrap}>
                    <lightning-layout>
                        <lightning-layout-item
                            size="12"
                            class="child-chat-item-sec slds-m-bottom_small"
                        >
                            <template
                                for:each={selectConWrap.messages}
                                for:item="msWr"
                                for:index="index"
                            >
                                <c-pp-message-item
                                    key={msWr.message.Id}
                                    msg-item={msWr}
                                    msg-index={index}
                                    user-id={userId}
                                    message_attachment={message_attachment}
                                    file_default={file_default}
                                    is-secondary={isSecondary}
                                    is-mobile={isMobile}
                                ></c-pp-message-item>
                            </template>
                        </lightning-layout-item>
                    </lightning-layout>
                </template>
                <template if:false={selectConWrap}>
                    <lightning-layout multiple-rows class="slds-p-around--medium"
                        ><lightning-layout-item
                            size="12"
                            class="slds-align--absolute-center slds-m-top_x-large"
                            ><p><img src={msgIllustration} /></p></lightning-layout-item
                        ><lightning-layout-item size="12" class="slds-align--absolute-center"
                            ><p class="slds-m-top_small empty-msg">
                                {labels.PP_No_Messages}
                            </p></lightning-layout-item
                        ><lightning-layout-item size="12" class="slds-align--absolute-center"
                            ><p class="empty-msg">
                                {labels.PP_Select_Question_Below}
                            </p></lightning-layout-item
                        >
                    </lightning-layout>
                </template>
                <template if:false={isPastStudy}>
                    <lightning-layout
                        class="slds-m-bottom_small mob-question-item"
                    ></lightning-layout>
                </template>
                <template if:false={isPastStudy}>
                    <lightning-layout class="slds-m-horizontal_small"
                        ><lightning-layout-item size="12"
                            ><lightning-combobox
                                name="message"
                                value={messageValue}
                                placeholder={labels.PP_Select_Question}
                                options={options}
                                onchange={handleChange}
                                onfocus={handleChanges}
                                class="mob-selection selection"
                                dropdown-alignment="bottom-left"
                            >
                            </lightning-combobox></lightning-layout-item
                    ></lightning-layout>
                    <lightning-layout class="slds-m-horizontal_small"
                        ><lightning-layout-item size="12" class="slds-m-top_small"
                            ><button
                                class="primaryBtn ms-send-button"
                                data-gtm="ms-send-pa-button"
                                onclick={handleSendClick}
                                disabled={handleValidation}
                                style="border-radius: 20px; width: -webkit-fill-available"
                            >
                                {labels.BTN_Send}
                            </button></lightning-layout-item
                        ></lightning-layout
                    >
                </template>
            </lightning-layout-item>
        </lightning-layout>
    </template>
</template>