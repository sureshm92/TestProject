<template>
    <div class="slds-col slds-max-small-size_1-of-1 slds-size--1-of-1 sharing-option vertical-scroll">
      <div>
         <template if:true={loading} class="slds-is-relative">
             <lightning-spinner alternative-text="Loading..." variant="brand"> </lightning-spinner>
         </template> 
     </div>
       <div class="sharing-p">
          <div class="slds-grid slds-wrap slds-gutters">
             <div class="step-card-title slds-m-bottom_x-small">
                Delegates 
             </div>
             <div class="step-card-text">
                Unless the participant is a minor or otherwise requires a legal guardian, a delegate should only 
                be entered with the participant's explicit permission. Upon registration, the delegate will be 
                able to view the participant information available via the Patient Portal, when applicable.    
             </div>
               <c-pir_sharing-form 
                  onrefresh={refreshDelegates} 
                  is-h-c-p-delegate="false" 
                  target-object='delegate' 
                  participant-object={participantObject}
                  add-delegate-list={delegates}
                  delegate-level={delegateLevel}>
               </c-pir_sharing-form>
               <!--is-add-delegates={isAddDelegates}-->
             <!-- Add Delegate End --> 
          </div><!-- Delegate Form End --> 

          <!--Referred patient Start-->
         <div class="slds-grid slds-wrap slds-gutters" if:true={isrpContact}>
            <div class="step-card-title slds-m-bottom_x-small slds-m-top_medium">
               Referring Provider 
            </div>

            <c-pir_sharing-form 
                  onrefresh={refreshDelegates}
                  target-object='rp' 
                  participant-object={participantObject}
                  add-delegate-list={rpList}
                  delegate-level={delegateLevel}>
            </c-pir_sharing-form>

          </div> 
          <!--Referred patient End-->
          <div class="slds-grid slds-wrap slds-gutters" if:true={isDisplayProviders}>
             <div class="step-card-title slds-m-bottom_x-small slds-m-top_medium">
                Other Providers
             </div>
             <div class="step-card-text">
                You should only invite a participant's provider with the participant's explicit permission. Upon registration, the provider will be able to track a participant's status.
             </div>
             <c-pir_sharing-form 
                  onrefresh={refreshDelegates} 
                  is-h-c-p-delegate="true" 
                  target-object='hcp' 
                  participant-object={participantObject}
                  add-delegate-list={healthcareProviders}
                  delegate-level={delegateLevel}>
               </c-pir_sharing-form>
             <!--<c-pir_sharing-form 
               onrefresh={refreshDelegates} 
               is-h-c-p-delegate="true" 
               target-object='hcp' 
               participant-object={participantObject}
               add-h-c-p-delegate-list={healthcareProviders}
               ishcp-add-delegates={ishcpAddDelegates}
               ></c-pir_sharing-form>-->
             
          </div><!-- Other Providers End  --> 
       </div><!-- Sharing-p End -->
    </div>
 </template>