<!--
 - Created by Alexey Moseev.
 -->

<aura:component description="DashboardPINew">

    <!-- attributes: -->
    <aura:attribute name="piData" type="Object"/>
    <aura:attribute name="parent" type="Aura.Component"/>
    <aura:attribute name="delegatePIPicklistvalues" type="List"/>
    <aura:attribute name="currentPi" type="String"/>

    <aura:handler name="init" value="{!this}" action="{!c.doinit}"/>


    <!-- component body: -->

    <aura:if isTrue="{!v.delegatePIPicklistvalues.length &gt; 1}">
        <div class="pi-picklist-container" data-gtm="DDL_Pi_Picker">
            <c:rrSelect value="{!v.currentPi}" options="{!v.delegatePIPicklistvalues}" onchange="{!c.refreshData}" useSentenceFont="false"/>
        </div>
    </aura:if>
    <div class="slds-grid slds-wrap db-section">
        <div class="slds-col slds-size--1-of-2">
            <c:DashboardTimeWaitingContact dashboardTitle="{!$Label.c.PG_DBPI_L_Referrals_waiting_for_first_contact}" peList="{!v.piData.waitingTimeToContact}" parent="{!v.parent}"/>
        </div>
        <div class="slds-col slds-size--1-of-2">
            <c:DashboardWaitingContact dashboardTitle="{!'' + v.piData.participantsWaitingContact + ' ' + $Label.c.PG_DBPI_L_Referrals_waiting_for_contact}" peList="{!v.piData.awaitingToContact}" parent="{!v.parent}"/>
        </div>
        <div class="slds-col slds-large-size_2-of-3 slds-small-size_1-of-1 slds-medium-size_2-of-3">
            <c:FunnelChart funnelData = "{!v.piData.funnelData}"/>
        </div>
        <div class="slds-col slds-large-size_1-of-3 slds-small-size_1-of-1 slds-medium-size_2-of-3">
            <div class="db-quick-actions-container">
                <c:DashboardQuickActionList
                        parent="{!v.parent}"
                        itemsList="{!v.piData.physiciansWaitingForApprovalList}"
                        itemsType="hcpWaitingApproval"
                        title="{!'' + v.piData.physiciansWaitingForApprovalList.length + ' ' + $Label.c.PG_DBPI_L_Providers_waiting_for_activation}"
                        viewMoreLink="my-referring-clinics?showPending=true"
                        viewMoreTag="LNK_Dashboard_Physicians_Waiting_Approval_View_More"/>
            </div>
        </div>

    </div>

</aura:component>