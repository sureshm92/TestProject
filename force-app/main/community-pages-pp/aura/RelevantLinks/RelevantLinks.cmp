<!--
 - Created by Nargiz Mamedova on 12/13/2019.
 -->

<aura:component description="RelevantLinks" controller="RelevantLinksRemote"
                implements="forceCommunity:availableForAllPageTypes">

    <aura:attribute name="vendors" type="Object[]"/>
    <aura:attribute name="studySiteId" type="String"/>
    <aura:attribute name="travelVendorsAvailable" type="Boolean" default="true"/>

    <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>

    <c:RRSpinner aura:id="spinner" size="medium" fixed="true" showSpinner="true"/>

    <div class="sv-panel rr-white-panel">
        <div class="sv-header">
            <div class="sv-title">{!$Label.c.Home_Page_RelevantLinks_Title}</div>
        </div>
        <div class="sv-body">
            <c:RRTable>
                <tbody>
                <aura:if isTrue="{!v.travelVendorsAvailable}">
                    <aura:iteration var="vendor" items="{!v.vendors}" indexVar="ind">
                        <tr>
                            <td class="slds-grid slds-grid_vertical-align-center" data-ind="{!vendor.Link_Vendor__c}">
                                <div class="sv-element">
                                    <lightning:formattedUrl value="{!vendor.Link_Vendor__c}" label="{!vendor.Name}"/>
                                </div>
                            </td>
                        </tr>
                    </aura:iteration>

                </aura:if>
                </tbody>
            </c:RRTable>
        </div>
    </div>
</aura:component>
