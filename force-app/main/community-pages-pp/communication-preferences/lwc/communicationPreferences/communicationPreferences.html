<template>
    <template if:true={spinner}>      
        <lightning-spinner alternative-text="Loading" size="large"></lightning-spinner>
    </template>
    <template if:true={isDesktop}>
    <div class="communication-pref">
        <lightning-card>
            <span class="header">
                {label.PP_Communication_Pref} <!-- Replace with custom label-->
            </span>
            <div class="study-container">
                <div class="header">
                    {label.PP_Communication_Pref_Study}  <!-- Replace with custom label-->
                    <lightning-layout multiple-rows="true">
                        <lightning-layout-item size="12" small-device-size="12" large-device-size="12">
                            <div class="sub-header">
                                {label.PP_Communication_Pref_Study_consent}
                            </div>
                        </lightning-layout-item>
                    </lightning-layout>
                    <template for:each={studyDetails} for:item="study" for:index="index">
                        <lightning-layout key={study.study_id} multiple-rows="true" class="study-card" vertical-align="center">
                            <lightning-layout-item size="2" small-device-size="12" large-device-size="2" class="study-content">                                
                                <span>{study.study_name} <br/> Sponsor{study.sponsor_id}</span>                                
                            </lightning-layout-item>
                            
                            <lightning-layout-item size="2" small-device-size="3" large-device-size="2" class="study-paramters">
                                <div class="mb-child-div-10">
                                    <div><img src="phone.png"/></div>
                                    <div>{label.PP_Communication_Pref_Phone}</div>
                                    <div class="ml-5"><lightning-input type="checkbox" label="Phone" name={study.study_id} data-sponsor={study.sponsor_id} variant="label-hidden" checked={study.phone} onchange={selectIndividualOptions}></lightning-input></div>
                                </div>                           
                            </lightning-layout-item>
                            
                            <lightning-layout-item size="2" small-device-size="3" large-device-size="2" class="study-paramters">
                                <div class="mb-child-div-10">
                                    <div><img src="email.png"/></div>
                                    <div>{label.PP_Communication_Pref_Email}</div>
                                    <div class="ml-5"><lightning-input type="checkbox" label="Email" name={study.study_id} data-sponsor={study.sponsor_id} variant="label-hidden" checked={study.email} onchange={selectIndividualOptions}></lightning-input></div>
                                </div>
                            </lightning-layout-item>
                                        
                            <lightning-layout-item size="2" small-device-size="2" large-device-size="2" class="study-paramters">
                                <div class="mb-child-div-10">
                                    <div><img src="sms.png"/></div>
                                    <div>{label.PP_Communication_Pref_SMS}</div>
                                    <div class="ml-5"><lightning-input type="checkbox" label="SMS" name={study.study_id} data-sponsor={study.sponsor_id} variant="label-hidden" checked={study.sms} onchange={selectIndividualOptions}></lightning-input></div>                            
                                </div>
                            </lightning-layout-item>

                            <lightning-layout-item size="2" small-device-size="2" large-device-size="2" class="study-paramters border-right">
                                <div class="mb-child-div-10">
                                    <div><img src="sms.png"/></div>
                                    <div>{label.PP_Communication_Pref_Dmail}</div>
                                    <div class="ml-5"><lightning-input type="checkbox" label="DMail" name={study.study_id} data-sponsor={study.sponsor_id} variant="label-hidden" checked={study.dmail} onchange={selectIndividualOptions}></lightning-input></div>                            
                                </div>
                            </lightning-layout-item>
                                        
                            <lightning-layout-item size="2" small-device-size="2" large-device-size="2" class="study-paramters">
                                <div class="mb-child-div-10">
                                    <div><img src="all.png"/></div>
                                    <div>{label.PP_Communication_Pref_All}</div>
                                    <div class="ml-5"><lightning-input type="checkbox" label="All" name={study.study_id} data-sponsor={study.sponsor_id} value={study.study_id} variant="label-hidden" checked={study.all} onchange={selectAllOptions}></lightning-input></div>
                                </div>
                            </lightning-layout-item>                    
                        </lightning-layout>
                    </template>
                </div>
            </div>       
            <div class="outreach-container">
                <div class="header">
                    {label.PP_Communication_Pref_Outreach} <!-- Replace with custom label-->

                    <lightning-layout multiple-rows="true">
                        <lightning-layout-item size="12" small-device-size="12" large-device-size="12">
                            <div class="sub-header">
                                <!-- I consent to allow IQVIA (in accordance with <a href="#" class="blue-highlight-text-color">IQVIA's Privacy Policy</a>) to contact me with educational health
                                information and other clinical trial opportunities using my preferences selected below: -->
                                {label.PP_Communication_Pref_Outreach_consentA} <a href="#" class="blue-highlight-text-color">{label.PP_Communication_Pref_Outreach_consentB}</a>{label.PP_Communication_Pref_Outreach_consentA}
                            </div>
                        </lightning-layout-item>
                    </lightning-layout>
                    <template for:each={outReachDetails} for:item="outreach" for:index="index">
                        <lightning-layout key={outreach.iqvia_id} multiple-rows="true" class="study-card" vertical-align="center">
                            <lightning-layout-item size="2" small-device-size="12" large-device-size="2" class="study-content">                                
                                <span>{outreach.name}</span>                                
                            </lightning-layout-item>
                            
                            <lightning-layout-item size="2" small-device-size="3" large-device-size="2" class="study-paramters">
                                <div class="mb-child-div-10">
                                    <div><img src="phone.png"/></div>
                                    <div>{label.PP_Communication_Pref_Phone}</div>
                                    <div class="ml-5"><lightning-input type="checkbox" label="Phone" class={outreach.iqvia_id} name={outreach.iqvia_id} variant="label-hidden" checked={outreach.phone} onchange={selectIndividualOptionsOutreach}></lightning-input></div>
                                </div>                           
                            </lightning-layout-item>
                            
                            <lightning-layout-item size="2" small-device-size="3" large-device-size="2" class="study-paramters">
                                <div class="mb-child-div-10">
                                    <div><img src="email.png"/></div>
                                    <div>{label.PP_Communication_Pref_Email}</div>
                                    <div class="ml-5"><lightning-input type="checkbox" label="Email" class={outreach.iqvia_id} name={outreach.iqvia_id} variant="label-hidden" checked={outreach.email} onchange={selectIndividualOptionsOutreach}></lightning-input></div>
                                </div>
                            </lightning-layout-item>
                                        
                            <lightning-layout-item size="2" small-device-size="2" large-device-size="2" class="study-paramters">
                                <div class="mb-child-div-10">
                                    <div><img src="sms.png"/></div>
                                    <div>{label.PP_Communication_Pref_SMS}</div>
                                    <div class="ml-5"><lightning-input type="checkbox" label="SMS" class={outreach.iqvia_id} name={outreach.iqvia_id} variant="label-hidden" checked={outreach.sms} onchange={selectIndividualOptionsOutreach}></lightning-input></div>                            
                                </div>
                            </lightning-layout-item>

                            <lightning-layout-item size="2" small-device-size="2" large-device-size="2" class="study-paramters border-right">
                                <div class="mb-child-div-10">
                                    <div><img src="dmail.png"/></div>
                                    <div>{label.PP_Communication_Pref_Dmail}</div>
                                    <div class="ml-5"><lightning-input type="checkbox" label="DMail" class={outreach.iqvia_id} name={outreach.iqvia_id} variant="label-hidden" checked={outreach.dmail} onchange={selectIndividualOptionsOutreach}></lightning-input></div>                            
                                </div>
                            </lightning-layout-item>
                                        
                            <lightning-layout-item size="2" small-device-size="2" large-device-size="2" class="study-paramters">
                                <div class="mb-child-div-10">
                                    <div><img src="all.png"/></div>
                                    <div>{label.PP_Communication_Pref_All}</div>
                                    <div class="ml-5"><lightning-input type="checkbox" label="All" name={outreach.iqvia_id} value={outreach.iqvia_id}  checked={outreach.all} variant="label-hidden" onchange={selectAllOptionsOutreach}></lightning-input></div>
                                </div>
                            </lightning-layout-item>                    
                        </lightning-layout>
                    </template>
                </div>
            </div>   
            <div class="align-center mt-30">
                <lightning-layout multiple-rows="true" horizontal-align="center">
                    <lightning-layout-item size="12" small-device-size="12" large-device-size="12">
                        <lightning-button
                        variant="brand"
                        label={label.PP_Communication_Pref_savechanges}
                        title=""
                        onclick={doSaveCommunicationPref}
                        class=""
                    ></lightning-button>
                    </lightning-layout-item>
                </lightning-layout>
            </div>
        </lightning-card>        
    </div>
    </template>
    <template if:false={isDesktop}>
        <div class="communication-pref">
            <lightning-card>
                <span class="header">
                    {label.PP_Communication_Pref} Mobile <!-- Replace with custom label-->
                </span>
                <div class="study-container">
                    <div class="header">
                        {label.PP_Communication_Pref_Study}  <!-- Replace with custom label-->
                        <lightning-layout multiple-rows="true">
                            <lightning-layout-item size="12" small-device-size="12" large-device-size="12">
                                <div class="sub-header">
                                    {label.PP_Communication_Pref_Study_consent}
                                </div>
                            </lightning-layout-item>
                        </lightning-layout>
                        <template for:each={studyDetails} for:item="study" for:index="index">
                            <lightning-layout key={study.study_id} multiple-rows="true" class="study-card" vertical-align="center">
                                <lightning-layout-item size="2" small-device-size="12" large-device-size="2" class="study-content">                                
                                    <span>{study.study_name} <br/> Sponsor{study.sponsor_id}</span>                                
                                </lightning-layout-item>
                                
                                <lightning-layout-item size="2" small-device-size="3" large-device-size="2" class="study-paramters">
                                    <div class="mb-child-div-10">
                                        <div><img src="phone.png"/></div>
                                        <div>{label.PP_Communication_Pref_Phone}</div>
                                        <div class="ml-5"><lightning-input type="checkbox" label="Phone" name={study.study_id} data-sponsor={study.sponsor_id} variant="label-hidden" checked={study.phone} onchange={selectIndividualOptions}></lightning-input></div>
                                    </div>                           
                                </lightning-layout-item>
                                
                                <lightning-layout-item size="2" small-device-size="3" large-device-size="2" class="study-paramters">
                                    <div class="mb-child-div-10">
                                        <div><img src="email.png"/></div>
                                        <div>{label.PP_Communication_Pref_Email}</div>
                                        <div class="ml-5"><lightning-input type="checkbox" label="Email" name={study.study_id} data-sponsor={study.sponsor_id} variant="label-hidden" checked={study.email} onchange={selectIndividualOptions}></lightning-input></div>
                                    </div>
                                </lightning-layout-item>
                                            
                                <lightning-layout-item size="2" small-device-size="2" large-device-size="2" class="study-paramters">
                                    <div class="mb-child-div-10">
                                        <div><img src="sms.png"/></div>
                                        <div>{label.PP_Communication_Pref_SMS}</div>
                                        <div class="ml-5"><lightning-input type="checkbox" label="SMS" name={study.study_id} data-sponsor={study.sponsor_id} variant="label-hidden" checked={study.sms} onchange={selectIndividualOptions}></lightning-input></div>                            
                                    </div>
                                </lightning-layout-item>
    
                                <lightning-layout-item size="2" small-device-size="2" large-device-size="2" class="study-paramters border-right">
                                    <div class="mb-child-div-10">
                                        <div><img src="sms.png"/></div>
                                        <div>{label.PP_Communication_Pref_Dmail}</div>
                                        <div class="ml-5"><lightning-input type="checkbox" label="DMail" name={study.study_id} data-sponsor={study.sponsor_id} variant="label-hidden" checked={study.dmail} onchange={selectIndividualOptions}></lightning-input></div>                            
                                    </div>
                                </lightning-layout-item>
                                            
                                <lightning-layout-item size="2" small-device-size="2" large-device-size="2" class="study-paramters">
                                    <div class="mb-child-div-10">
                                        <div><img src="all.png"/></div>
                                        <div>{label.PP_Communication_Pref_All}</div>
                                        <div class="ml-5"><lightning-input type="checkbox" label="All" name={study.study_id} data-sponsor={study.sponsor_id} value={study.study_id} variant="label-hidden" checked={study.all} onchange={selectAllOptions}></lightning-input></div>
                                    </div>
                                </lightning-layout-item>                    
                            </lightning-layout>
                        </template>
                    </div>
                </div>       
                <div class="outreach-container">
                    <div class="header">
                        {label.PP_Communication_Pref_Outreach} <!-- Replace with custom label-->
    
                        <lightning-layout multiple-rows="true">
                            <lightning-layout-item size="12" small-device-size="12" large-device-size="12">
                                <div class="sub-header">
                                    <!-- I consent to allow IQVIA (in accordance with <a href="#" class="blue-highlight-text-color">IQVIA's Privacy Policy</a>) to contact me with educational health
                                    information and other clinical trial opportunities using my preferences selected below: -->
                                    {label.PP_Communication_Pref_Outreach_consentA} <a href="#" class="blue-highlight-text-color">{label.PP_Communication_Pref_Outreach_consentB}</a>{label.PP_Communication_Pref_Outreach_consentA}
                                </div>
                            </lightning-layout-item>
                        </lightning-layout>
                        <template for:each={outReachDetails} for:item="outreach" for:index="index">
                            <lightning-layout key={outreach.iqvia_id} multiple-rows="true" class="study-card" vertical-align="center">
                                <lightning-layout-item size="2" small-device-size="12" large-device-size="2" class="study-content">                                
                                    <span>{outreach.name}</span>                                
                                </lightning-layout-item>
                                
                                <lightning-layout-item size="2" small-device-size="3" large-device-size="2" class="study-paramters">
                                    <div class="mb-child-div-10">
                                        <div><img src="phone.png"/></div>
                                        <div>{label.PP_Communication_Pref_Phone}</div>
                                        <div class="ml-5"><lightning-input type="checkbox" label="Phone" class={outreach.iqvia_id} name={outreach.iqvia_id} variant="label-hidden" checked={outreach.phone} onchange={selectIndividualOptionsOutreach}></lightning-input></div>
                                    </div>                           
                                </lightning-layout-item>
                                
                                <lightning-layout-item size="2" small-device-size="3" large-device-size="2" class="study-paramters">
                                    <div class="mb-child-div-10">
                                        <div><img src="email.png"/></div>
                                        <div>{label.PP_Communication_Pref_Email}</div>
                                        <div class="ml-5"><lightning-input type="checkbox" label="Email" class={outreach.iqvia_id} name={outreach.iqvia_id} variant="label-hidden" checked={outreach.email} onchange={selectIndividualOptionsOutreach}></lightning-input></div>
                                    </div>
                                </lightning-layout-item>
                                            
                                <lightning-layout-item size="2" small-device-size="2" large-device-size="2" class="study-paramters">
                                    <div class="mb-child-div-10">
                                        <div><img src="sms.png"/></div>
                                        <div>{label.PP_Communication_Pref_SMS}</div>
                                        <div class="ml-5"><lightning-input type="checkbox" label="SMS" class={outreach.iqvia_id} name={outreach.iqvia_id} variant="label-hidden" checked={outreach.sms} onchange={selectIndividualOptionsOutreach}></lightning-input></div>                            
                                    </div>
                                </lightning-layout-item>
    
                                <lightning-layout-item size="2" small-device-size="2" large-device-size="2" class="study-paramters border-right">
                                    <div class="mb-child-div-10">
                                        <div><img src="dmail.png"/></div>
                                        <div>{label.PP_Communication_Pref_Dmail}</div>
                                        <div class="ml-5"><lightning-input type="checkbox" label="DMail" class={outreach.iqvia_id} name={outreach.iqvia_id} variant="label-hidden" checked={outreach.dmail} onchange={selectIndividualOptionsOutreach}></lightning-input></div>                            
                                    </div>
                                </lightning-layout-item>
                                            
                                <lightning-layout-item size="2" small-device-size="2" large-device-size="2" class="study-paramters">
                                    <div class="mb-child-div-10">
                                        <div><img src="all.png"/></div>
                                        <div>{label.PP_Communication_Pref_All}</div>
                                        <div class="ml-5"><lightning-input type="checkbox" label="All" name={outreach.iqvia_id} value={outreach.iqvia_id}  checked={outreach.all} variant="label-hidden" onchange={selectAllOptionsOutreach}></lightning-input></div>
                                    </div>
                                </lightning-layout-item>                    
                            </lightning-layout>
                        </template>
                    </div>
                </div>   
                <div class="align-center mt-30">
                    <lightning-layout multiple-rows="true" horizontal-align="center">
                        <lightning-layout-item size="12" small-device-size="12" large-device-size="12">
                            <lightning-button
                            variant="brand"
                            label={label.PP_Communication_Pref_savechanges}
                            title=""
                            onclick={doSaveCommunicationPref}
                            class=""
                        ></lightning-button>
                        </lightning-layout-item>
                    </lightning-layout>
                </div>
            </lightning-card>        
        </div>
        </template>
</template>