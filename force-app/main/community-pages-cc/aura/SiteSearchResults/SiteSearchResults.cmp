<aura:component description="SiteSearchResults">
    <ltng:require scripts="{!join(',', $Resource.rr_community_js)}" />
    <!--attributes-->
    <aura:attribute name="resultSet" type="List" />
    <aura:attribute name="filterStudyName" type="String" />
    <aura:attribute name="filterCountry" type="String" />
    <aura:attribute name="searched" type="Boolean" />
    <!--body-->
    <div class="ssr-container">
        <div class="ssr-filterPanel">
            <c:filterSearchResults
                resultSet="{!v.resultSet}"
                filterStudyName="{!v.filterStudyName}"
                filterCountry="{!v.filterCountry}"
            />
        </div>
        <div class="ssr-resultsPanel">
            <c:EmptyListStub
                iconName="{!v.searched ? 'sad' : 'neutral'}"
                message="{!v.searched ? $Label.c.PG_VP_L_No_Items : 'Please initiate search!'}"
                targetList="{!v.resultSet}"
            />
            <aura:if isTrue="{!!empty(v.resultSet)}">
                <c:RRTable>
                    <tr class="table-header">
                        <th class="ssr-t-ctp">{!$Label.c.CC_TableHeader_CTP}</th>
                        <th class="ssr-t-site-no">{!$Label.c.CC_TableHeader_SiteNo}</th>
                        <th class="ssr-t-site">{!$Label.c.CC_TableHeader_Site}</th>
                        <th class="ssr-t-country">{!$Label.c.CC_TableHeader_Country}</th>
                        <th class="ssr-t-pi-name">{!$Label.c.CC_TableHeader_PI}</th>
                        <th class="ssr-t-phone">{!$Label.c.CC_TableHeader_Phone}</th>
                        <th class="ssr-t-primary-con">{!$Label.c.CC_TableHeader_Contact}</th>
                        <th class="ssr-t-status">{!$Label.c.CC_TableHeader_Status}</th>
                    </tr>
                    <aura:iteration var="siteWrapper" items="{!v.resultSet}" indexVar="index">
                        <tr>
                            <td class="ssr-t-ctp">{!siteWrapper.studyName}</td>
                            <td class="ssr-t-site-no">{!siteWrapper.siteNumber}</td>
                            <td class="ssr-t-site">{!siteWrapper.siteName}</td>
                            <td class="ssr-t-country">{!siteWrapper.country}</td>
                            <td class="ssr-t-pi-name">{!siteWrapper.piName}</td>
                            <td class="ssr-t-phone">{!siteWrapper.phoneNumber}</td>
                            <td class="ssr-t-primary-con">{!siteWrapper.primaryContact}</td>
                            <td class="ssr-t-status">{!siteWrapper.siteStatus}</td>
                        </tr>
                    </aura:iteration>
                </c:RRTable>
            </aura:if>
        </div>
    </div>
</aura:component>
