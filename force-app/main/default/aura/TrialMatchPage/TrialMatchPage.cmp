<!--
  - Created by Sravani Dasari
 -->
<aura:component description="TrialMatchPage" implements="forceCommunity:availableForAllPageTypes"
                controller="TrialMatchPageRemote" extends="c:LightningService">
    
    <ltng:require scripts="{!join(',', $Resource.rr_community_js)}"
                  afterScriptsLoaded="{!c.doInit}"/>
    
    <aura:attribute name="trialmatchCTPs" type="List"/>
    <aura:attribute name="initializedTrms" type="Boolean" access="public" default="false"/>
    
    <c:RRSpinner aura:id="mainSpinner" showSpinner="true" size="medium" fixed="true"/>
    
    <lightning:layout horizontalAlign="center" >
        <lightning:layoutItem smallDeviceSize="12" mediumDeviceSize="12" largeDeviceSize="12" flexibility="auto"
                              size="12" >
            <div class="sdv-top-bar" id="stickyBar" aura:id="stickyBar">
                <div class="navigation rr-width-limiter">
                    <c:RRNavigationPath>
                        <c:RRNPathItem label="{!$Label.c.Navigation_Home}" page=""/>
                        <c:RRNPathItem label="{!$Label.c.Trial_Match}"/>
                    </c:RRNavigationPath>
                </div>
            </div>
            
            <div class="trials-container side-padding">
                <aura:if isTrue="{!!empty(v.trialmatchCTPs)}">
                    <div class="slds-clearfix">
                    <div class="slds-float_left">
                        <lightning:formattedText value="{!$Label.c.search_results}"/>
                    </div>
                    <div class="slds-float_right">
                        <c:DownloadTrialMatch reportData="{!v.trialmatchCTPs}" />
                    </div>
                    </div>    
                </aura:if>
                <c:TrialMatchContainer trialmatchCTPs="{!v.trialmatchCTPs}" />
            </div>
            
        </lightning:layoutItem>
    </lightning:layout>
</aura:component>