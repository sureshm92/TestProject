<!--
 - Created by Igor Malyuta on 19.09.2019.
 -->

<aura:component description="StudySiteItem">

    <aura:attribute name="item" type="Object"/>
    <aura:attribute name="parent" type="Aura.Component"/>
    <aura:attribute name="viewMode" type="String"/>

    <tr class="{!if(v.item.emptyAssignments, 'empty-assignments', '')}">
        <th data-label="Country" scope="row">
            <div class="slds-truncate"
                 title="">{!v.item.country.label}</div>
        </th>
        <td data-label="Study Site Name">
            <div class="slds-truncate name-overflow" title="">
                <a href="javascript:void(0);" tabindex="-1" data-ssid="{!v.item.ss.Id}"
                   onclick="{!c.viewStudySite}">{!v.item.name}</a>
            </div>
        </td>
        <td data-label="Name">
            <div class="slds-truncate"
                 title="">{!v.item.ss.Study_Site_Number__c}</div>
        </td>

        <aura:iteration items="{!v.item.assignments}" var="asg">
            <td>
                <lightning:input label="" type="checkbox" value="{!asg.value}" checked="{!asg.state}"
                                 onchange="{!c.sscCheckboxStateChange}" disabled="{!v.viewMode != 'Edit'}"/>
            </td>
        </aura:iteration>
    </tr>

</aura:component>
