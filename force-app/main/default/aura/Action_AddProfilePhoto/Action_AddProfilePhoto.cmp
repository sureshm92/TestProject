<!--
  @File Name          : Action_AddProfilePhoto.cmp
  @Description        : 
  @Author             : ChangeMeIn@UserSettingsUnder.SFDoc
  @Group              : 
  @Last Modified By   : ChangeMeIn@UserSettingsUnder.SFDoc
  @Last Modified On   : 6/4/2020, 1:50:13 PM
  @Modification Log   : 
  Ver       Date            Author      		    Modification
  1.0    6/1/2020   ChangeMeIn@UserSettingsUnder.SFDoc     Initial Version
-->

<aura:component controller="ProfilePictureController"
                implements="flexipage:availableForAllPageTypes,force:hasRecordId,forceCommunity:availableForAllPageTypes">
    
    <!-- Id of the Record the page hosting this component is showing -->
    <aura:attribute name="recordId" type="Id"/>
    <aura:attribute name="showSpinner" type="Boolean" default="true" access="private"/>
    <aura:attribute name="username" type="String" />
    <aura:attribute name="pictureSrc" type="String"/>
    <aura:attribute name="isDelegate" type="Boolean" default="false"/>
    <aura:attribute name="hasProfilePic" type="Boolean"/>

    <aura:attribute name="message" type="String" default="Drag profile picture here"/>
    
    <aura:handler name="init" value="{!this}" action="{!c.onInit}" />
    
    <aura:handler name="change" value="{!v.pictureSrc}" action="{!c.onInit}" />
    
    <c:RRSpinner aura:id="spinner" size="medium" showSpinner="{!v.showSpinner}" fixed="true"/>
    
    <div class="slds-grid">
        <div class="{!if(v.hasProfilePic,'noAvatar-icon','avatar-icon')}">
            <aura:if isTrue="{!v.hasProfilePic}">
                <img src="{!v.pictureSrc}"  class="slds-avatar slds-avatar_circle slds-avatar_large" />

               <!--<lightning:avatar src="{!v.pictureSrc}" variant="circle" size="medium"  fallbackIconName="standard:avatar"/>-->
                        <aura:set attribute="else">
                            <c:RRIcon color="white" class="single-avatar"
                                      iconName="single-neutral"/>
                        </aura:set>
                </aura:if>   
                </div>     

        <div class="photo-label">
            <p class="username">{!v.username}</p>
            <aura:if isTrue="{!!v.isDelegate}">
                <label for="file-upload" class="custom-file-upload">
                    <span  class="profileLabel"> {!$Label.c.PP_AddProfilePhoto}</span>
                </label>
            </aura:if>

            <div class="prfile-btn-container">
                <div class="btn-upload-photo">
                    <input id="file-upload" type="file" aura:id="file" onchange="{!c.onDrop}" class="inputFile"/>
                </div>
            </div>
        </div>
    </div>

    
</aura:component>