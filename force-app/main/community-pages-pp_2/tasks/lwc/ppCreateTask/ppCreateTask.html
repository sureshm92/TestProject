<template>
    <!-- Loading Spinner-->
    <c-web-spinner class="main-spinner" fixed="true"></c-web-spinner>
    <lightning-layout multiple-rows="true">
        <lightning-layout-item padding="around-small" size="12">
            <div class="slds-align_absolute-center">
                <lightning-card class="task-card">
                    <lightning-layout>
                        <lightning-layout-item padding="around-small" size="4">
                            <img src={task_icon} />
                        </lightning-layout-item>
                        <lightning-layout-item padding="around-small" size="8">
                            <lightning-layout size="12">
                                <lightning-layout-item size="10"
                                    >{label.taskName}</lightning-layout-item
                                >
                                <lightning-layout-item size="2"
                                    >{taskNameLength}/30</lightning-layout-item
                                >
                            </lightning-layout>
                            <lightning-layout size="12">
                                <input
                                    type="text"
                                    data-id="taskName"
                                    placeholder={label.enterTaskName}
                                    onkeyup={handleuserNameChange}
                                    maxlength="30"
                                    class="input-task-name"
                                />
                            </lightning-layout>
                            <lightning-layout-item>
                                <lightning-layout size="12">
                                    <c-pp-date-time-combo
                                        reminder={notReminder}
                                        mindate={currentDate}
                                        mintime={currentTime}
                                        create-task={createTask}
                                        ondatechange={handleDate}
                                        ontimechange={handleTime}
                                        ondate={handleDate}
                                        ontime={handleTime}
                                        oninitialdateload={handleInitialDateLoad}
                                        oninitialtimeload={handleInitialTimeLoad}
                                    ></c-pp-date-time-combo>
                                    <!--Task Reminder Section-->
                                    <template if:true={initData}
                                        ><c-pp-create-task-reminder
                                            init-data={initData}
                                            current-date={currentDate}
                                            current-time={currentTime}
                                            task-due-date-time={taskDateTime}
                                            task-due-date={taskDate}
                                            task-due-time={taskTime}
                                            is-task-due-date-time-selected={isDueDateTimeSelected}
                                            oncustomreminderdata={handleCustomReminder}
                                            onreminderdata={handleReminder}
                                        ></c-pp-create-task-reminder
                                    ></template>
                                </lightning-layout>
                            </lightning-layout-item>
                        </lightning-layout-item>
                    </lightning-layout>

                    <div>
                        <p slot="footer">
                            <lightning-button
                                label={label.cancel}
                                onclick={handleCancelTask}
                                class="slds-m-left_x-small slds-align_absolute-center"
                            ></lightning-button>
                            <lightning-button
                                variant="brand"
                                label={label.save}
                                class="slds-m-left_x-small slds-align_absolute-center"
                                onclick={doCreateTask}
                            ></lightning-button>
                        </p>
                    </div>
                </lightning-card>
            </div>
        </lightning-layout-item>
    </lightning-layout>
</template>
