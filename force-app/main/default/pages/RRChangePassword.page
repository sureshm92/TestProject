<!--
 - Created by Leonid Bartenev
 -->

<apex:page id="RRChangePassword" showHeader="false" title="{!$Label.site.change_password}" controller="RRChangePasswordController"
    standardStylesheets="false" docType="html-5.0" language="{!userVal.Contact.Language__c}" action="{!initTemplateData}">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <apex:slds />
    <apex:stylesheet value="{!$Resource.proximanova}/proximanova.css" />
    <apex:stylesheet value="{!$Resource.Community_CSS_Core}" />
    <apex:stylesheet value="{!IF(mainPortal, $Resource.Community_CSS_Default_Theme, $Resource.Community_CSS_GSK_Theme)}" />
    <apex:includeScript value="{!$Resource.svg4everybody}" />
    <apex:includeScript value="{!$Resource.jquery224}" />
    <apex:includeScript value="{!$Resource.rr_community_js}" />
    <link id="themeCSS" href="{!$Resource.Community_CSS_Stub}" rel="stylesheet" type="text/css" />

    <div class="debug" style="display: none">
        template name: {!templateName} community name: {!currentCommunityName} site name: {!siteName}
    </div>

    <style>
        .all-content {
            height: 100%;
            width: 100%;
            font-family: "Proxima Nova";
        }

        .footer {}

        .width-limiter {
            height: 100%;
            width: 100%;
        }

        .header-block {
            display: flex;
            align-items: center;
            height: 100%;
        }

        .inlineBlock {
            display: inline-block!important;
        }

        .body-content {
            vertical-align: top;
            display: block;
        }


        .logo-block {
            /*height: 39px;*/
            width: 165px;
        }

        .btnRTL {
            margin-right: 652px!important;
        }

        @media (max-width:768px) {
            .btnRTL {
                margin-right: 5px!important;
            }
        }

        .btnprimaryRTL {
            margin-right: 5px!important;
        }

        .current-state {
            border-bottom: 1px solid #D9D9D9;
            background: #F8F9FB;
            height: 42px;
            position: fixed;
            top: 50px;
        }

        .thick-line {
            height: 5px;
            background-color: #AAB0B3;
        }

        .thick-line.selected {
            background-color: #9014FE;
        }

        .line-info {
            color: #AAB0B3;
            text-align: center;
            font-size: 12px;
            line-height: 20px;
        }

        .line-info.selected {
            color: #9014FE;
        }

        .line-tabs {
            width: 100%;
        }

        .line-tabs tr td {
            padding: 10px;
            padding-bottom: 0;
            width: 50%;
        }


        .main-header {
            font-size: 24px;
            font-weight: 600;
            line-height: 1;
            text-align: center;
            padding-top: 20px;
        }

        .errorMsg {
            color: red;
        }

        .section-header {
            font-size: 18px;
            font-weight: 600;
            line-height: 36px;
        }

        .prfile-img-stub {
            width: 100px;
            min-height: 50px;
            margin: 10px auto;
        }

        .prfile-btn-container {
            /* display: inline-flex;
            justify-content: space-around;
            margin-left: 360px; */
        }

        @media all and (max-width:768px) {
            .prfile-btn-container {
                margin-left: 95px;
            }
            .btn-upload-photo .input-control {
                position: absolute !important;
                /* top: 0; */
                right: 107px !important;
                /* opacity: 0; */
                cursor: pointer;
            }

            .btn-upload-photo .input-controlRTL {
                position: absolute !important;
                /* top: 0;  */
                right: 107px !important;
                /* opacity: 0; */
                cursor: pointer;
            }
        }

        .prfile-btn-containerRTL {
            display: flex;
            justify-content: center;
        }

        .btn-upload-photo {
            /* position: relative;
            margin: 0 auto;
            cursor: pointer;
            display: flex;
            align-items: flex-end;
            color: #0768FD;
            font-weight: 500;
            font-size: 16px;
            font-family: "Proxima Nova"; */
        }

        .btn-upload-photo:hover {
            background-color: #eef5ff;


        }

        .remove-photo {
            color: #0768FD;
            font-weight: 500;
            font-size: 16px;
            font-family: "Proxima Nova";
            margin-right: 192px;
            cursor: pointer;
        }


        .remove-photo-disabled {
            opacity: 0.4;
            color: #0768FD;
            font-family: "Proxima Nova";
            font-size: 16px;
            font-weight: 500;
            letter-spacing: 0;
            line-height: 24px;
            text-align: center;

        }

        .remove-photo:hover {
            background-color: #eef5ff;
        }


        .edit-photo {
            color: #0768FD;
            font-weight: 500;
            font-size: 16px;
            font-family: "Proxima Nova";
            /* margin-right: 17px; */
        }

        .divider-vertical-standard-line {

            /* margin-right: 14px; */
            color: #d8dde6;
            height: 14px;
            font-size: 16px;
            font-weight: 600;
            width: 1px;
            /* margin-top: 2px; */
        }

        .btn-upload-photo svg {
            width: 20px;
            height: 22px;
            fill: #999999;
            margin-right: 5px;
            flex-shrink: 0;
        }

        .btn-upload-photo .input-control {
            position: absolute;
            /* top: 0; */
            right: 531px;
            opacity: 0;
            cursor: pointer;
        }

        .btn-upload-photo .input-controlRTL {
            position: absolute;
            /* top: 0; */
            right: 510px;
            opacity: 0;
            cursor: pointer;
        }

        .button-eye {
            width: 26px;
            height: 32px;
            position: absolute;
            right: 10px;
            bottom: 0;
            display: inline-block;
        }

        .button-eye.visible {
            fill: #297DFD;
        }

        .brow-mob-button-eye {
            margin-right: 238px !important;
        }

        @media all and (max-width: 768px) {
            .brow-mob-button-eye {
                margin-right: 300px !important;
            }
        }

        .alert {
            color: white;
            background: linear-gradient(to right, #230559 0%, #036ca7 100%);
            padding: 20px;
            text-align: center;
            margin: 15px 0;

        }

        .slds-gutters {
            margin-right: -0.75rem;
            margin-left: -0.75rem;
        }

        .slds-gutters .slds-col {
            padding-right: 0.75rem;
            padding-left: 0.75rem;
        }

        .rr-form-element {
            margin-top: 10px!important;
            margin-bottom: 10px!important;
        }

        .rr-form-element .password-input {
            position: relative;
        }

        .rr-form-element.error input {
            border-color: red;
        }

        .section-description {
            color: #000;
            font-size: 1rem;
            line-height: 20px;
        }

        .error-description {
            font-size: 13px;
            line-height: 16px;
            color: red;
        }

        .footer {
            background-color: #F2F2F2;
        }

        .copyright {
            color: #666666;
            font-size: 13px;
            line-height: 16px;
            padding: 33px 0 30px 0;
            display: block;
            text-align: right;
        }

        .rr-bottom-bar .bar-content {
            justify-content: right;
        }

        .tc-accept-text {
            color: #666666;
            margin-right: auto;
        }

        .cp-save-btn-container {
            height: 50px;
            margin-top: 30px;
            display: flex;
            justify-content: center;
            align-items: baseline;
        }

        .cookie-bottom {
            bottom: 85px !important;
        }

        .cookie-policy-padding {
            padding-bottom: 85px !important;
        }

        .cp-save-btn {
            margin-bottom: 15px;
        }

        .attestation-checkbox {
            padding-top: 37px;
            display: flex;
            align-items: flex-start;
        }

        .attestation-confirmation-message {
            font-size: 16px;
        }

        .attestation-RTL {
            padding-right: 10px;
        }

        .attestation-LTR {
            padding-left: 10px;
        }

        .attestation-checkbox input[type=checkbox] {
            margin-top: 7px;
        }

        textarea {
            line-height: unset !important;
        }

        .minorErrorText {
            padding-left: 15px;
            color: red;
        }

        lightning-primitive-icon {
            color: #297dfd!important;
        }

        @media all and (max-width: 767px) {
            .cp-save-btn {
                width: 100%;
            }
            .cp-language-blank {
                display: none;
            }
        }

        @media all and (min-width: 768px) {
            .cp-information-container {
                padding-left: 120px;
                padding-right: 120px;
            }
        }

        @media (max-width: 468px) {
            .attestation-checkbox {
                padding-top: 15px;
            }

            .attestation-checkbox .attestation-confirmation-message {
                display: inline-block;
                max-width: 80%;
            }
        }
    </style>

    <style>
        /* styles for language options input fields */

        button.slds-button_icon::before {
            content: attr(help-text);
            border-radius: 5px;
            padding: 10px;
            font-size: 12px;
            line-height: 18px;
            position: absolute;
            z-index: 999;
            text-align: left;
            bottom: 9999px;
            left: 50%;
            background: #042459;
            color: #e0e0e0;
            min-height: 32px;
            min-width: 200px;
            opacity: 0;
            transition: opacity 0.4s ease-out;
        }

        button.slds-button_icon:hover::before {
            opacity: 1;
            bottom: 24px;
            left: -130px;
        }
    </style>

    <script>


        function switchVisibility(btnId) {
            $('#btn_' + btnId).toggleClass("visible");
            var input = document.getElementById('RRChangePassword:main_form:pwd_' + btnId);
            var type = "text";
            if (input.getAttribute('type') === type) type = 'password';
            input.setAttribute('type', type);
        }

        //init SVG for EveryBbody
        $(document).ready(function () {
            svg4everybody();
            $('#themeCSS').attr('href', '{!themeCSS}');
            let commName = '{!currentCommunityName}';
            if ((!$('.ci-bottom-aria').hasClass('ci-hidden') && commName != 'IQVIA Referral Hub' && commName != 'Janssen Community') || (!$('.c-container').hasClass('hide-banner') && commName == 'IQVIA Referral Hub' && commName == 'Janssen Community')) {
                $('.terms-and-conditions').addClass('cookie-policy-padding');
                $('.rr-bottom-bar-area').addClass('cookie-bottom');
            }
            var country = '{!country}';
            if (country) $("[id$='RRChangePassword:main_form:countryId']").val(country);
            var state = '{!state}';
            if (state) $("[id$='RRChangePassword:main_form:stateId']").val(state);

            if (country) $("[id$='RRChangePassword:main_form:countryIdParticiapnt']").val(country);
            if (state) $("[id$='RRChangePassword:main_form:stateIdParticiapnt']").val(state);
            var yearofBirth = '{!birthYear}';
            if (yearofBirth) $("[id$='RRChangePassword:main_form:yearofbirth']").val(yearofBirth);

        });
    </script>

    <script>
        $(window).scroll(function () {
            sessionStorage.scrollTop = $(this).scrollTop();
        });

        $(document).ready(function () {
            if (sessionStorage.scrollTop) {
                $(window).scrollTop(sessionStorage.scrollTop);
            }
            $("[id$='container']").css('opacity', 1);
        });
    </script>

    <script>
        $(function () {
            $('.newpasswordtxt').keyup(function () {
                var currentValue = $(this).val();
                var number = /([0-9])/;
                var lowercase = /([a-z])/;
                var uppercase = /([A-Z])/;
                //var special_characters = /([~,!,@,#,$,%,^,&,*,-,_,+,=,?,>,<])/;

                var special_characters = /([!,",#,$,%,&,',(,),*,\-,+,.,\/,:,;,<,=,>,?,@,\[,\,\],^,_,`,{,|,},~,])/;

                if (currentValue.length >= 8) {
                    $('#eightchar').removeClass();
                    $('#eightchar').addClass('checkgreenmark');
                } else {
                    $('#eightchar').removeClass();
                    $('#eightchar').addClass('checkmark');
                }
                if (currentValue.match(number)) {
                    $('#numb').removeClass();
                    $('#numb').addClass('checkgreenmark');
                } else {
                    $('#numb').removeClass();
                    $('#numb').addClass('checkmark');
                }
                if (currentValue.match(lowercase)) {
                    $('#lc').removeClass();
                    $('#lc').addClass('checkgreenmark');
                } else {
                    $('#lc').removeClass();
                    $('#lc').addClass('checkmark');
                }
                if (currentValue.match(uppercase)) {
                    $('#uc').removeClass();
                    $('#uc').addClass('checkgreenmark');
                } else {
                    $('#uc').removeClass();
                    $('#uc').addClass('checkmark');
                }
                if (currentValue.match(special_characters)) {
                    $('#special').removeClass();
                    $('#special').addClass('checkgreenmark');
                } else {
                    $('#special').removeClass();
                    $('#special').addClass('checkmark');
                }

            });

        });

    </script>

    <div id="container" class="container">
        <div style="{!if(isRTL == true,if(and(contact.Is_First_Logon__c == false,templateName != 'GSK'),'opacity:1;','opacity:1;direction:rtl;'), 'opacity:1')}">
            <apex:form id="main_form">

                <!-- update language function: -->
                <apex:actionFunction action="{!translateFieldsAction}" name="translateFields" />
                <apex:actionFunction action="{!updateBrowserLanguageAction}" name="updateLanguage" onComplete="translateFields();" />
                <!-- upload photo: -->
                <apex:actionFunction action="{!upload}" name="uploadAF" />
                <apex:actionFunction action="{!deletePicture}" name="deleteAF" />

                <!-- check browser language and update page: -->
                <apex:outputPanel rendered="{!contact.Is_First_Logon__c && browserLanguage == null}">
                    <apex:inputText value="{!browserLanguage}" styleClass="langInput" style="display:none" />
                    <script>
                        DEFAULT_VALUE = 'en';
                        PREFERRED_LANGUAGE = navigator.language || navigator.userLanguage || navigator.browserLanguage || navigator.systemLanguage || DEFAULT_VALUE;
                        var browserLanguage = JSON.stringify([PREFERRED_LANGUAGE]);
                        if (navigator.languages) browserLanguage = JSON.stringify(navigator.languages);
                        $(document).ready(function () {
                            $('.langInput').val(browserLanguage);
                            updateLanguage();
                        })


                    </script>
                </apex:outputPanel>

                <!-- change password page: -->
                <apex:outputPanel rendered="{!!contact.Is_First_Logon__c}" styleClass="change-password">
                    <style>
                        .cp-content {
                            overflow: auto;
                            position: fixed;
                            width: 100%;
                            height: 100%;
                            font-family: "Proxima Nova";
                            background: linear-gradient(135deg, #25095b 0%, #176ba4 100%);
                            color: white;
                            background-size: auto 100%!important;
                            background-position: center!important;
                            background-repeat: no-repeat!important;
                            display: flex;
                            justify-content: space-around;
                        }

                        .cp-content-lofi {
                            overflow: auto;
                            position: fixed;
                            width: 100%;
                            height: 100%;
                            font-family: "Proxima Nova";
                            background-color: white;
                        }

                        .cp-body-content {
                            display: flex;
                            justify-content: center;
                        }

                        .cp-body-components {
                            width: 300px;
                        }

                        .cp-logo-block {
                            text-align: center;
                            font-size: 30px;
                            max-width: 450px;
                        }

                        .cp-main-logo {
                            margin: 40px 0;
                        }

                        .cp-info-title {
                            color: white;
                            font-size: 14px;
                            margin: 20px 0;
                        }

                        .cp-save-btn-container {
                            height: 50px;
                            margin-top: 30px;
                            display: flex;
                            justify-content: center;
                            align-items: baseline;
                        }

                        .cp-save-btn {
                            width: 33%;
                        }

                        @media all and (max-width: 480px) {
                            .cp-logo-block {
                                margin-top: 20px;
                            }
                            .cp-main-logo {
                                margin: 10px 0;
                            }
                            .cp-save-btn {
                                width: 100%;
                            }
                        }

                        .cp-sub-title {
                            display: block;
                            font-size: 16px;
                            line-height: 24px;
                            text-align: center;
                            margin-bottom: 20px;
                            color: #868686;
                        }

                        .fail {
                            color: #FFFFFF;
                        }

                        .failRTL {
                            color: #FFFFFF;
                        }

                        .tickmark {
                            color: #00cc00;
                        }

                        .tstyle1 {
                            font-weight: 550;
                        }

                        .rowPadding {
                            padding-top: 20px;
                        }

                        .checkmark {
                            fill: #999999;
                        }

                        .checkgreenmark {
                            fill: #00cc00;
                            width: 10px;
                        }

                        .checksize {
                            width: 10px;
                            height: 10px;
                        }
                    </style>
                    <apex:outputPanel rendered="{!templateName == 'GSK'}">

                        <div class="cp-content" style="{!backgroundStyle}">
                            <div class="cp-body-cell">
                                <div class="cp-logo-block">
                                    <apex:outputPanel rendered="{!mainPortal}">
                                        <div class="cp-login-title">{!$Label.BTN_Reset_Password}</div>
                                    </apex:outputPanel>
                                    <!--div class="cp-info-title">This site is optimized for Google Chrome and Safari. You may experience navigation issues with other browsers.</div-->
                                    <apex:outputPanel rendered="{!contact.userCommunityMode__c == 'Participant'}">
                                        <img src="{!resetPassLogo}" class="cp-main-logo" />
                                    </apex:outputPanel>
                                    <apex:outputPanel rendered="{!contact.userCommunityMode__c != 'Participant'}">
                                        <img src="{!$Resource.rr_community_icons + '/Referral_Hub_Logo.svg'}" class="cp-main-logo" />
                                    </apex:outputPanel>
                                </div>

                                <div class="cp-body-content">
                                    <div class="cp-body-components">
                                        <div class="lg-error-alert" style="{!IF(failingPageResponse != Null, 'display:block', 'display:none')}">
                                            <!--{!failingPageResponse}-->
                                            <apex:outputText value="{!failingPageResponse}" escape="false" />
                                        </div>
                                        <apex:messages styleClass="lg-error-alert" rendered="{!failingPageResponse == Null}" />
                                        <apex:outputPanel styleClass="cp-sub-title" rendered="{!templateName = 'GSK'}">
                                            {!$Label.GSK_Login_Sub_Title}
                                        </apex:outputPanel>
                                        <!--Password Indicator Start-->
                                        <div class="slds-p-bottom_xx-small slds-p-left_none" style="{!IF(templateName = 'GSK', 'color: #4d4d4d', 'color: #f2f2f2')}">
                                            <table id="tablePwdStatus" cellpadding="2" cellspacing="1" border="0">
                                                <tbody>
                                                    <tr>
                                                        <td colspan="2" style="{!if(isRTL == true, 'text-align: right;', '')}">{!$Label.Pswd_Your_Pswd_Include}</td>
                                                    </tr>
                                                    <tr>
                                                        <td width="5%">
                                                            <div id="div_nLength" class="fail" style="{!if(isRTL == true, 'display: contents', '')}">
                                                                <span id="eightchar" class="checkmark" style="{!if(isRTL == true, 'float: right', '')}">
                                                                    <svg class="checksize" aria-hidden="true">
                                                                        <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="{!$Resource.rr_community_icons}/icons.svg#check-box"></use>
                                                                    </svg>
                                                                </span>
                                                            </div>
                                                        </td>
                                                        <td class="tstyle1" style="{!if(isRTL == true, 'text-align: right;', '')}">{!$Label.Pswd_8_Characters}</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <div class="slds-p-bottom_small slds-p-left_none" style="{!IF(templateName = 'GSK', 'color: #4d4d4d', 'color: #f2f2f2')}">
                                            <table id="tablePwdStatus" cellpadding="2" cellspacing="1" border="0">
                                                <tbody>
                                                    <tr>
                                                        <td colspan="2" style="{!if(isRTL == true, 'text-align: right;', '')}">{!$Label.Pswd_Include_Any_3}</td>
                                                    </tr>
                                                    <tr>
                                                        <td width="5%">
                                                            <div id="div_nNumber" class="fail" style="{!if(isRTL == true, 'display: contents', '')}">
                                                                <span id="numb" class="checkmark" style="{!if(isRTL == true, 'float: right', '')}">
                                                                    <svg class="checksize" aria-hidden="true">
                                                                        <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="{!$Resource.rr_community_icons}/icons.svg#check-box"></use>
                                                                    </svg>
                                                                </span>
                                                            </div>
                                                        </td>
                                                        <td class="tstyle1" style="{!if(isRTL == true, 'text-align: right;', '')}">{!$Label.Pswd_Numbers}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <div id="div_nAlphaUC" class="fail">
                                                                <span id="uc" class="checkmark" style="{!if(isRTL == true, 'float: right', '')}">
                                                                    <svg class="checksize" aria-hidden="true">
                                                                        <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="{!$Resource.rr_community_icons}/icons.svg#check-box"></use>
                                                                    </svg>
                                                                </span>
                                                            </div>
                                                        </td>
                                                        <td class="tstyle1" style="{!if(isRTL == true, 'text-align: right;', '')}">{!$Label.Pswd_Uppercase}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <div id="div_nAlphaLC" class="fail">
                                                                <span id="lc" class="checkmark" style="{!if(isRTL == true, 'float: right', '')}">
                                                                    <svg class="checksize" aria-hidden="true">
                                                                        <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="{!$Resource.rr_community_icons}/icons.svg#check-box"></use>
                                                                    </svg>
                                                                </span>
                                                            </div>
                                                        </td>
                                                        <td class="tstyle1" style="{!if(isRTL == true, 'text-align: right;', '')}">{!$Label.Pswd_Lowercase}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>
                                                            <div id="div_nSpecial" class="fail">
                                                                <span id="special" class="checkmark" style="{!if(isRTL == true, 'float: right', '')}">
                                                                    <svg class="checksize" aria-hidden="true">
                                                                        <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="{!$Resource.rr_community_icons}/icons.svg#check-box"></use>
                                                                    </svg>
                                                                </span>
                                                            </div>
                                                        </td>
                                                        <td class="tstyle1" style="{!if(isRTL == true, 'text-align: right;', '')}">{!$Label.Pswd_Special_Characters}</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <!--Password Indicator Stop-->
                                        <div class="lg-form-element">
                                            <label>{!$Label.PG_AS_F_New_password}</label>
                                            <apex:inputSecret value="{!newPassword}" styleClass="newpasswordtxt" id="newpassword" redisplay="true" />
                                        </div>
                                        <div class="lg-form-element">
                                            <label>{!$Label.PG_AS_F_Re_enter_new_password}</label>
                                            <apex:inputSecret value="{!verifyNewPassword}" redisplay="true" />
                                        </div>
                                        <div style="height: 50px; margin-top: 30px">
                                            <apex:commandButton action="{!changePassword}" value="{!$Label.BTN_Change_My_Password}" styleClass="apollo-btn primary login"
                                                style="width: 100%" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </apex:outputPanel>

                    <apex:outputPanel rendered="{!templateName != 'GSK'}">
                        <div class="cp-content-lofi">
                            <div class="cp-body-cell">
                                <c:PP_ForgotPassword backgroundcss="{!backgroundStyle}"></c:PP_ForgotPassword>

                            </div>
                        </div>
                    </apex:outputPanel>
                </apex:outputPanel>

                <style>
                    .fail {
                        color: #FFFFFF;
                    }

                    .tickmark {
                        color: #00cc00;
                    }

                    .tstyle {
                        font-weight: 550;
                        color: #4d4d4d;
                    }

                    .tstyle2 {
                        font-weight: 400;
                        color: #4d4d4d;
                    }

                    .rowPadding {
                        padding-top: 20px;
                    }

                    .checkmark {
                        fill: #999999;
                    }

                    .checkgreenmark {
                        fill: #00cc00;
                        width: 10px;
                    }

                    .checksize {
                        width: 10px;
                        height: 10px;
                    }
                </style>
                <script>
                    $(function () {
                        $('.password_chk').keyup(function () {
                            var currentValue = $(this).val();
                            var number = /([0-9])/;
                            var lowercase = /([a-z])/;
                            var uppercase = /([A-Z])/;
                            //var special_characters = /([~,!,@,#,$,%,^,&,*,-,_,+,=,?,>,<])/;

                            var special_characters = /([!,",#,$,%,&,',(,),*,\-,+,.,\/,:,;,<,=,>,?,@,\[,\,\],^,_,`,{,|,},~,])/;

                            if (currentValue.length >= 8) {
                                $('#eightchar').removeClass();
                                $('#eightchar').addClass('checkgreenmark');
                            } else {
                                $('#eightchar').removeClass();
                                $('#eightchar').addClass('checkmark');
                            }
                            if (currentValue.match(number)) {
                                $('#numb').removeClass();
                                $('#numb').addClass('checkgreenmark');
                            } else {
                                $('#numb').removeClass();
                                $('#numb').addClass('checkmark');
                            }
                            if (currentValue.match(lowercase)) {
                                $('#lc').removeClass();
                                $('#lc').addClass('checkgreenmark');
                            } else {
                                $('#lc').removeClass();
                                $('#lc').addClass('checkmark');
                            }
                            if (currentValue.match(uppercase)) {
                                $('#uc').removeClass();
                                $('#uc').addClass('checkgreenmark');
                            } else {
                                $('#uc').removeClass();
                                $('#uc').addClass('checkmark');
                            }
                            if (currentValue.match(special_characters)) {
                                $('#special').removeClass();
                                $('#special').addClass('checkgreenmark');
                            } else {
                                $('#special').removeClass();
                                $('#special').addClass('checkmark');
                            }

                        });

                    });

                </script>

                <!-- register page: -->
                <apex:outputPanel id="test" rendered="{!contact.Is_First_Logon__c && browserLanguage != null}" styleClass="rr-all-content">
                    <div class="rr-header-content main-header-brand">
                        <div class="rr-width-limiter side-padding header-block">
                            <apex:outputPanel rendered="{!contact.userCommunityMode__c == 'Participant'}">
                                <img src="{!communityLogo}" class="logo-block" />
                            </apex:outputPanel>
                            <apex:outputPanel rendered="{!contact.userCommunityMode__c != 'Participant'}">
                                <img src="{!$Resource.rr_community_icons + '/Referral_Hub_Logo.svg'}" class="logo-block" />
                            </apex:outputPanel>
                        </div>
                    </div>
                    <div class="rr-header-margin" />
                    <div class="rr-header-content current-state main-header-brand">
                        <div class="rr-width-limiter">
                            <table class="line-tabs">
                                <tr>
                                    <td>
                                        <div class="thick-line selected"></div>
                                        <div class="line-info selected">{!$Label.PG_Login_H_Profile_Information}</div>
                                    </td>
                                    <td>
                                        <div class="{!'thick-line ' + IF(isProfileView, '', 'selected')}"></div>
                                        <div class="{!'line-info ' + IF(isProfileView, '', 'selected')}">{!$Label.PG_Login_H_Terms_And_Conditions}</div>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div class="rr-body-content" style="height: 72px"></div>

                    <apex:outputPanel id="info-block" styleClass="rr-body-content body-content " rendered="{!isProfileView}">
                        <div class="rr-width-limiter cp-information-container">
                            <div class="main-header">{!$Label.PG_Login_H_Profile_Information}</div>

                            <apex:outputPanel id="profilePhoto">
                                <div class="prfile-img-stub">
                                    <apex:image value="{!photolink}" />
                                </div>
                                <div class="{!if(isRTL == true, 'prfile-btn-containerRTL slds-grid slds-grid_align-center slds-gutters','prfile-btn-container slds-grid slds-grid_align-center slds-gutters')}">
                                    <div class="{!if(isRTL == true,'btn-upload-photo slds-col slds-text-align_left slds-size_5-of-12 slds-medium-size_1-of-6','btn-upload-photo slds-col slds-text-align_right slds-size_5-of-12 slds-medium-size_1-of-6')}"
                                        style="{!if(isRTL == true, '', '')}">
                                        <apex:outputPanel rendered="{!hasProfilePic}">

                                            <span class="edit-photo">{!$Label.PP_AddProfilePhoto}</span>
                                        </apex:outputPanel>
                                        <apex:outputPanel rendered="{!not(hasProfilePic)}">
                                            <span class="edit-photo">{!$Label.PP_EditProfilePhoto}</span>
                                        </apex:outputPanel>


                                        <apex:inputFile styleClass="{!if(isRTL == true,'input-controlRTL','input-control')}" style="{!if(isRTL == true, 'width: 100px;', '')}"
                                            value="{!blobValue}" contentType="{!contentType}" fileName="{!filename}" onchange="uploadAF();"
                                        />
                                    </div>
                                    <div class="divider-vertical-standard-line slds-col slds-grow-none" style="{!if(isRTL == true, '', '')}">
                                        |
                                    </div>
                                    <div class="slds-col slds-size_5-of-12 slds-medium-size_1-of-6">
                                        <apex:outputPanel rendered="{!hasProfilePic}">
                                            <span onclick="deleteAF();" class="remove-photo" style="{!if(isRTL == true, 'display: contents;', '')}"> {!$Label.PP_Remove_Photo} </span>
                                        </apex:outputPanel>
                                        <apex:outputPanel rendered="{!not(hasProfilePic)}">
                                            <span class="remove-photo-disabled">
                                                {!$Label.PP_Remove_Photo}
                                            </span>
                                        </apex:outputPanel>
                                    </div>
                                </div>
                            </apex:outputPanel>

                            <div class="rr-width-limiter side-padding">
                                <div class="section-header">{!$Label.PG_Login_H_Login_Information}</div>
                                <div class="lg-error-alert" style="{!IF(failingPageResponse != Null, 'display:block', 'display:none')}">
                                    <!--{!failingPageResponse}-->
                                    <apex:outputText value="{!failingPageResponse}" escape="false" />
                                </div>
                                <apex:messages styleClass="lg-error-alert" lang="{!translation.Language__c}" rendered="{!failingPageResponse == Null}" />
                                <apex:outputPanel styleClass="error-description" rendered="{!!isPaswordsEquals}">{!$Label.PG_Login_T_Passwords_do_not_match}</apex:outputPanel>

                                <!--Password Indicator Start-->
                                <div class="slds-p-bottom_xx-small slds-p-left_none">
                                    <table id="tablePwdStatus" cellpadding="2" cellspacing="1" border="0">
                                        <tbody>
                                            <tr>
                                                <td class="tstyle2" colspan="2" style="{!if(isRTL == true, 'text-align: right;', '')}">{!$Label.Pswd_Your_Pswd_Include}</td>
                                            </tr>
                                            <tr>
                                                <td width="2%" style="{!if(isRTL == true, 'text-align: right;', '')}">
                                                    <div id="div_nLength" class="fail" style="{!if(isRTL == true, 'display: contents;', '')}">
                                                        <span id="eightchar" class="checkmark">
                                                            <svg class="checksize" aria-hidden="true">
                                                                <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="{!$Resource.rr_community_icons}/icons.svg#check-box"></use>
                                                            </svg>
                                                        </span>
                                                    </div>
                                                </td>
                                                <td class="tstyle" style="{!if(isRTL == true, 'float: right', '')}">{!$Label.Pswd_8_Characters}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="slds-p-bottom_small slds-p-left_none ">
                                    <table id="tablePwdStatus" cellpadding="2" cellspacing="1" border="0">
                                        <tbody>
                                            <tr>
                                                <td class="tstyle2" colspan="2" style="{!if(isRTL == true, 'text-align: right;', '')}">{!$Label.Pswd_Include_Any_3}</td>
                                            </tr>
                                            <tr>
                                                <td width="2%" style="{!if(isRTL == true, 'text-align: right;', '')}">
                                                    <div id="div_nNumber" class="fail" style="{!if(isRTL == true, 'display: contents', '')}">
                                                        <span id="numb" class="checkmark">
                                                            <svg class="checksize" aria-hidden="true">
                                                                <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="{!$Resource.rr_community_icons}/icons.svg#check-box"></use>
                                                            </svg>
                                                        </span>
                                                    </div>
                                                </td>
                                                <td class="tstyle" style="{!if(isRTL == true, 'float: right', '')}">{!$Label.Pswd_Numbers}</td>
                                            </tr>
                                            <tr>
                                                <td style="{!if(isRTL == true, 'text-align: right;', '')}">
                                                    <div id="div_nAlphaUC" class="fail">
                                                        <span id="uc" class="checkmark">
                                                            <svg class="checksize" aria-hidden="true">
                                                                <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="{!$Resource.rr_community_icons}/icons.svg#check-box"></use>
                                                            </svg>
                                                        </span>
                                                    </div>
                                                </td>
                                                <td class="tstyle" style="{!if(isRTL == true, 'float: right', '')}">{!$Label.Pswd_Uppercase}</td>
                                            </tr>
                                            <tr>
                                                <td style="{!if(isRTL == true, 'text-align: right;', '')}">
                                                    <div id="div_nAlphaLC" class="fail">
                                                        <span id="lc" class="checkmark">
                                                            <svg class="checksize" aria-hidden="true">
                                                                <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="{!$Resource.rr_community_icons}/icons.svg#check-box"></use>
                                                            </svg>
                                                        </span>
                                                    </div>
                                                </td>
                                                <td class="tstyle" style="{!if(isRTL == true, 'float: right', '')}">{!$Label.Pswd_Lowercase}</td>
                                            </tr>
                                            <tr>
                                                <td style="{!if(isRTL == true, 'text-align: right;', '')}">
                                                    <div id="div_nSpecial" class="fail">
                                                        <span id="special" class="checkmark">
                                                            <svg class="checksize" aria-hidden="true">
                                                                <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="{!$Resource.rr_community_icons}/icons.svg#check-box"></use>
                                                            </svg>
                                                        </span>
                                                    </div>
                                                </td>
                                                <td class="tstyle" style="{!if(isRTL == true, 'float: right', '')}">{!$Label.Pswd_Special_Characters}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <!--Password Indicator Stop-->
                                <div class="slds-grid slds-wrap slds-gutters">
                                    <div class="rr-form-element slds-col slds-size_1-of-1 slds-medium-size_1-of-3">
                                        <label>{!$Label.PG_Login_F_User_Name}</label>
                                        <input type="text" value="{!userVal.Username}" disabled="true" class="slds-input"></input>
                                    </div>
                                    <div class="rr-form-element {!IF(!isPaswordsEquals, 'error', '')} slds-col slds-size_1-of-1 slds-medium-size_1-of-3">
                                        <label>{!$Label.PG_AS_F_New_password}</label>
                                        <div class="password-input">
                                            <apex:inputSecret value="{!newPassword}" redisplay="true" id="pwd_password" styleClass="slds-input password_chk" />
                                            <svg id="btn_password" class="button-eye + {!if(isRTL == true, 'brow-mob-button-eye', '')}" aria-hidden="true" onclick="switchVisibility('password');">
                                                <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="{!$Resource.rr_community_icons}/icons.svg#icon-view"></use>
                                            </svg>
                                        </div>
                                    </div>
                                    <div class="rr-form-element {!IF(!isPaswordsEquals, 'error', '')} slds-col slds-size_1-of-1 slds-medium-size_1-of-3">
                                        <label style="display: inline-block;white-space: nowrap;">{!$Label.PG_AS_F_Re_enter_new_password}</label>
                                        <div class="password-input">
                                            <apex:inputSecret value="{!verifyNewPassword}" redisplay="true" id="pwd_confirm" styleClass="slds-input" />
                                            <svg id="btn_confirm" class="button-eye + {!if(isRTL == true, 'brow-mob-button-eye', '')}" onclick="switchVisibility('confirm');">
                                                <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="{!$Resource.rr_community_icons}/icons.svg#icon-view"></use>
                                            </svg>
                                        </div>
                                    </div>
                                </div>


                                <div class="section-header" style="margin-top: 30px">{!$Label.PG_Login_H_Contact_Information}</div>
                                <div class="section-description">{!$Label.PG_Login_T_Please_Contact_Us}</div>
                                <apex:outputPanel rendered="{!!isParticipant}">
                                    <div class="slds-grid slds-wrap slds-gutters">
                                        <div class="rr-form-element slds-col slds-size_1-of-1 slds-medium-size_1-of-5" style="{!IF(!notEnrollNow,'','display:none;')}">
                                            <label>{!$Label.PG_AS_F_Title}</label>
                                            <apex:inputField styleClass="slds-input slds-combobox__input" value="{!contact.Salutation}" />
                                        </div>
                                        <div class="rr-form-element slds-col slds-size_1-of-1  {!IF(notEnrollNow,'slds-medium-size_1-of-3','slds-medium-size_1-of-5')}">
                                            <label>
                                                <span title="required" class="slds-required" style="{!IF(!notEnrollNow,'','display:none;')}">*</span>{!$Label.PG_AS_F_First_name}</label>
                                            <input class="slds-input" type="text" value="{!contact.FirstName}" disabled="true" style="{!IF(notEnrollNow,'','display:none;')}"></input>
                                            <apex:inputField styleClass="slds-input" type="text" value="{!contact.FirstName}" rendered="{!!notEnrollNow}" required="{!notEnrollNow}"
                                            />
                                        </div>
                                        <div class="rr-form-element slds-col slds-size_1-of-1 slds-medium-size_1-of-5" style="{!IF(!notEnrollNow,'','display:none;')}">
                                            <div class="tooltip1">
                                                <label class="textoverlap marginbottom">{!$Label.PG_AS_F_Middle_name}</label>
                                                <span>{!$Label.PG_AS_F_Middle_name}</span>
                                            </div>
                                            <apex:inputField styleClass="slds-input" type="text" value="{!contact.MiddleName}" />
                                        </div>
                                        <div class="rr-form-element slds-col slds-size_1-of-1 {!IF(notEnrollNow,'slds-medium-size_1-of-3','slds-medium-size_1-of-5')}">
                                            <label>
                                                <span title="required" class="slds-required" style="{!IF(!notEnrollNow,'','display:none;')}">*</span>{!$Label.PG_AS_F_Last_name}</label>
                                            <input class="slds-input" type="text" value="{!contact.LastName}" disabled="true" style="{!IF(notEnrollNow,'','display:none;')}"></input>
                                            <apex:inputField styleClass="slds-input" type="text" value="{!contact.LastName}" rendered="{!!notEnrollNow}" required="{!notEnrollNow}"
                                            />
                                        </div>
                                        <div class="rr-form-element slds-col slds-size_1-of-1 slds-medium-size_1-of-5" style="{!IF(!notEnrollNow,'','display:none;')}">
                                            <label>{!$Label.PG_AS_F_Suffix}</label>
                                            <apex:inputField styleClass="slds-input" type="text" value="{!contact.Suffix}" />
                                        </div>
                                        <div class="rr-form-element slds-col slds-size_1-of-1 slds-medium-size_1-of-3" style="{!IF(notEnrollNow,'','display:none;')}">

                                        </div>
                                        <div class="rr-form-element slds-col slds-size_1-of-1 slds-medium-size_1-of-3">
                                            <label>
                                                <span title="required" class="slds-required" style="{!IF(!notEnrollNow,'','display:none;')}">*</span>{!$Label.PG_AS_F_Institute_Name}</label>
                                            <input class="slds-input" type="text" value="{!account.Name}" disabled="true" style="{!IF(notEnrollNow,'','display:none;')}"></input>
                                            <apex:inputField styleClass="slds-input" type="text" value="{!account.Name}" rendered="{!!notEnrollNow}" required="{!notEnrollNow}"
                                            />
                                        </div>
                                        <div class="rr-form-element  slds-col slds-size_1-of-1 slds-medium-size_2-of-3">
                                            <label>
                                                <span title="required" class="slds-required" style="{!IF(!notEnrollNow,'','display:none;')}">*</span>{!$Label.PG_AS_F_Institute_Address_Line}</label>
                                            <input class="slds-input" type="text" value="{!account.BillingStreet}" disabled="true" style="{!IF(notEnrollNow,'','display:none;')}"></input>
                                            <apex:inputField styleClass="slds-input" type="text" value="{!contact.MailingStreet}" rendered="{!!notEnrollNow}" required="{!notEnrollNow}"
                                            />
                                        </div>
                                        <!--<div class="rr-form-element slds-col slds-size_1-of-1 slds-medium-size_1-of-3">-->
                                        <!--<label>Institute Address Line 2</label>-->
                                        <!--<input class="slds-input" type="text" value="" disabled="true"></input>-->
                                        <!--</div>-->
                                        <div class="rr-form-element slds-col slds-size_1-of-1 slds-medium-size_1-of-3">
                                            <label>
                                                <span title="required" class="slds-required" style="{!IF(!notEnrollNow,'','display:none;')}">*</span>{!$Label.PG_AS_F_Institute_City}</label>
                                            <input class="slds-input" type="text" value="{!account.BillingCity}" disabled="true" style="{!IF(notEnrollNow,'','display:none;')}"></input>
                                            <apex:inputField styleClass="slds-input" type="text" value="{!contact.MailingCity}" rendered="{!!notEnrollNow}" required="{!notEnrollNow}"
                                            />
                                        </div>
                                        <div class="rr-form-element slds-col slds-size_1-of-1 slds-medium-size_1-of-3">
                                            <label>
                                                <span title="required" class="slds-required" style="{!IF(!notEnrollNow,'','display:none;')}">*</span>{!$Label.PG_AS_F_Institute_State}</label>
                                            <input class="slds-input" type="text" value="{!account.BillingState}" disabled="true" style="{!IF(notEnrollNow,'','display:none;')}"></input>
                                            <apex:selectList id="stateId" styleClass="slds-input" disabled="{!!isStateRequired}" size="1" value="{!contact.MailingStateCode}"
                                                rendered="{!!notEnrollNow}" required="false">
                                                <apex:selectOption itemLabel="--None--" itemValue="" />
                                                <apex:selectOptions value="{!states}" />
                                            </apex:selectList>
                                            <!--<apex:inputField styleClass="slds-input" type="text" value="{!contact.MailingState}" rendered="{!!notEnrollNow}" required="false"/>-->
                                        </div>
                                        <div class="rr-form-element slds-col slds-size_1-of-1 slds-medium-size_1-of-3">
                                            <label>
                                                <span title="required" class="slds-required" style="{!IF(!notEnrollNow,'','display:none;')}">*</span>{!$Label.PG_AS_F_Institute_Country}</label>
                                            <input class="slds-input" type="text" value="{!account.BillingCountry}" disabled="true" style="{!IF(notEnrollNow,'','display:none;')}"></input>
                                            <apex:actionRegion>
                                                <apex:selectList id="countryId" styleClass="slds-input" size="1" value="{!contact.MailingCountryCode}" rendered="{!!notEnrollNow}"
                                                    required="{!notEnrollNow}">
                                                    <apex:selectOption itemLabel="--None--" itemValue="" />
                                                    <apex:selectOptions value="{!countries}" />
                                                    <apex:actionSupport event="onchange" action="{!updateStatesAction}" reRender="stateId" />
                                                </apex:selectList>
                                            </apex:actionRegion>
                                            <!--<apex:inputField styleClass="slds-input" type="text" value="{!contact.MailingCountry}" rendered="{!!notEnrollNow}" required="{!notEnrollNow}"/>-->
                                        </div>
                                        <div class="rr-form-element slds-col slds-size_1-of-1 slds-medium-size_1-of-3">
                                            <label>
                                                <span title="required" class="slds-required" style="{!IF(!notEnrollNow,'','display:none;')}">*</span>{!$Label.PG_AS_F_Institute_Zip_Postal_Code}</label>
                                            <input class="slds-input" type="text" value="{!account.BillingPostalCode}" disabled="true" style="{!IF(notEnrollNow,'','display:none;')}"></input>
                                            <apex:inputField styleClass="slds-input" type="text" value="{!contact.MailingPostalCode}" rendered="{!!notEnrollNow}" required="{!notEnrollNow}"
                                            />
                                        </div>
                                        <div class="rr-form-element slds-col slds-size_1-of-1 slds-medium-size_1-of-3">
                                            <label>
                                                <span title="required" class="slds-required" style="{!IF(!notEnrollNow,'','display:none;')}">*</span>{!$Label.PG_AS_F_Institute_Phone_Number}</label>
                                            <input class="slds-input" type="text" value="{!account.Phone}" disabled="true" style="{!IF(notEnrollNow,'','display:none;')}"></input>
                                            <apex:inputField styleClass="slds-input" type="text" value="{!contact.Phone}" rendered="{!!notEnrollNow}" required="{!notEnrollNow}"
                                            />
                                        </div>
                                        <div class="rr-form-element slds-col slds-size_1-of-1 slds-medium-size_1-of-3">
                                            <label>{!$Label.PG_AS_F_Institute_Fax_Number}</label>
                                            <input class="slds-input" type="text" value="{!account.Fax}" disabled="true" style="{!IF(notEnrollNow,'','display:none;')}"></input>
                                            <apex:inputField styleClass="slds-input" type="text" value="{!contact.Fax}" rendered="{!!notEnrollNow}" />
                                        </div>
                                    </div>
                                </apex:outputPanel>
                                <apex:outputPanel rendered="{!isParticipant}">
                                    <div class="slds-grid slds-wrap slds-gutters">
                                        <div class="rr-form-element slds-col slds-size_1-of-1 slds-medium-size_1-of-3">
                                            <label>
                                                <span title="required" class="slds-required">*</span>{!$Label.PG_AS_F_First_name}</label>
                                            <apex:inputField styleClass="slds-input" type="text" value="{!participant.First_Name__c}" />
                                        </div>
                                        <div class="rr-form-element slds-col slds-size_1-of-1 slds-medium-size_1-of-3">
                                            <label>
                                                <span title="required" class="slds-required">*</span>{!$Label.PG_AS_F_Last_name}</label>
                                            <apex:inputField styleClass="slds-input" type="text" value="{!participant.Last_Name__c}" />
                                        </div>
                                        <div class="rr-form-element slds-col slds-size_1-of-1 slds-medium-size_1-of-3">
                                            <label>
                                                {!$Label.PG_AS_F_Phone_number}</label>
                                            <apex:inputField styleClass="slds-input" type="text" value="{!participant.Phone__c}" />
                                        </div>
                                        <div class="rr-form-element slds-col slds-size_1-of-1 slds-medium-size_1-of-3">
                                            <label>
                                                <span title="required" class="slds-required" style="{!IF(!!isStateRequired,'','display:none;')}">*</span>{!$Label.PE_State}</label>
                                            <apex:actionRegion>
                                                <apex:selectList id="stateIdParticiapnt" style="font-size: larger;" styleClass="slds-input" disabled="{!!isStateRequired}"
                                                    size="1" value="{!participant.Mailing_State_Code__c}">
                                                    <apex:selectOption itemLabel="--None--" itemValue="" />
                                                    <apex:selectOptions value="{!states}" />
                                                    <apex:actionSupport event="onchange" action="{!updateYearOfBirth}" reRender="yearofbirth,saveButton,minorErrorMessageParent,attestation"
                                                    />
                                                </apex:selectList>
                                            </apex:actionRegion>
                                        </div>
                                        <div class="rr-form-element slds-col slds-size_1-of-1 slds-medium-size_1-of-3">
                                            <label>
                                                <span title="required" class="slds-required">*</span>{!$Label.PE_Country}</label>
                                            <apex:actionRegion>
                                                <apex:selectList id="countryIdParticiapnt" style="font-size: larger;" styleClass="slds-input" size="1" value="{!participant.Mailing_Country_Code__c}">
                                                    <apex:selectOption itemLabel="--None--" itemValue="" />
                                                    <apex:selectOptions value="{!countries}" />
                                                    <apex:actionSupport event="onchange" action="{!updateStatesAction}" reRender="stateIdParticiapnt,yearofbirth,attestation,saveButton,minorErrorMessageParent"
                                                    />
                                                </apex:selectList>
                                            </apex:actionRegion>
                                        </div>
                                        <div class="rr-form-element slds-col slds-size_1-of-1 slds-medium-size_1-of-3">
                                            <label>{!$Label.PG_AS_F_Zip_Postal_Code}</label>
                                            <apex:inputField styleClass="slds-input" type="text" value="{!participant.Mailing_Zip_Postal_Code__c}" />
                                        </div>
                                        <div class="rr-form-element slds-col slds-size_1-of-1 slds-medium-size_1-of-6" style="{!IF(isDelegate,'','display:none;')}">
                                            <label>
                                                <span title="required" class="slds-required">*</span>
                                                {!$Label.PE_Year_Of_Birth}</label>

                                            <apex:actionRegion>
                                                <apex:selectList id="yearofbirth" styleClass="slds-input" size="1" value="{!participant.Birth_Year__c}">
                                                    <apex:selectOption itemLabel="{!$Label.None}" itemValue="" />
                                                    <apex:selectOptions value="{!years}" />
                                                    <apex:actionSupport event="onchange" action="{!validateAgeOfMajority}" reRender="minorErrorMessageParent,attestation,saveButton"
                                                    />
                                                </apex:selectList>
                                            </apex:actionRegion>
                                        </div>
                                        <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2 attestation-checkbox" style="{!IF(isDelegate,'','display:none;')}">
                                            <apex:actionRegion>
                                                <apex:inputCheckbox value="{!isAttested}" id="attestation" disabled="{!isDisabled}">
                                                    <apex:actionSupport event="onclick" reRender="saveButton" action="{!validateSaveButton}" />
                                                </apex:inputCheckbox>
                                                <span class="{!if(isRTL,'attestation-confirmation-message attestation-RTL','attestation-confirmation-message attestation-LTR')}">{!$Label.Attestation_Confirmation_Message}</span>
                                            </apex:actionRegion>
                                        </div>
                                        <div class="rr-form-element slds-col slds-size_1-of-1 slds-medium-size_1-of-6">
                                        </div>
                                        <apex:outputPanel id="minorErrorMessageParent">
                                            <apex:outputPanel id="minorErrorMessage" rendered="{!showErrorMessage}">
                                                <apex:outputText value="{!$Label.Minor_Access_Error_Message}" styleClass="minorErrorText" />
                                            </apex:outputPanel>
                                        </apex:outputPanel>

                                    </div>
                                </apex:outputPanel>

                                <div class="section-header" style="margin-top: 30px">{!$Label.PG_Login_H_Language_Options}</div>
                                <div class="section-description">{!$Label.PG_Login_H_Language_Description}</div>
                                <apex:outputPanel>
                                    <div class="slds-grid slds-wrap slds-gutters">
                                        <div id="langSelectContainer" class="rr-form-element slds-col slds-size_1-of-1 slds-medium-size_1-of-3">
                                            <label class="inlineBlock">{!$Label.PG_AS_F_Preferred_Language}</label>
                                            <span class="slds-form-element__icon" style="inline; float:right">
                                                <button type="button" class="slds-button slds-button_icon" aria-describedby="salesforce-lightning-helptext-bubble_e9d01f7b-4039-a66d-d7d6-3859dd5f1248"
                                                    help-text="{!$Label.PG_AS_F_Preferred_Language_Help_Text}">
                                                    <lightning-primitive-icon lightning-primitiveicon_primitiveicon-host="">
                                                        <svg lightning-primitiveIcon_primitiveIcon="" focusable="false" data-key="info" aria-hidden="true" class="slds-button__icon">
                                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="info">
                                                                <path d="M12 .9C5.9.9.9 5.9.9 12s5 11.1 11.1 11.1 11.1-5 11.1-11.1S18.1.9 12 .9zm0 5.6c.8 0 1.4.6 1.4 1.4s-.6 1.4-1.4 1.4-1.4-.6-1.4-1.4.6-1.4 1.4-1.4zm2.3 9.7c0 .2-.2.4-.5.4h-3.6c-.3 0-.5-.1-.5-.4v-.9c0-.3.2-.5.5-.5.2 0 .4-.2.4-.4v-1.9c0-.2-.2-.5-.4-.5-.3 0-.5-.1-.5-.4v-.9c0-.3.2-.5.5-.5h2.7c.3 0 .5.2.5.5v3.7c0 .2.2.4.4.4.3 0 .5.2.5.5v.9z"></path>
                                                            </svg>
                                                        </svg>
                                                    </lightning-primitive-icon>
                                                    <span class="slds-assistive-text"></span>
                                                </button>
                                            </span>

                                            <apex:inputField style="font-size: larger;" styleClass="slds-input" value="{!userVal.contact.Language__c}">
                                                <apex:actionSupport event="onchange" action="{!updateLanguageAction}" />
                                            </apex:inputField>
                                        </div>
                                        <div id="langSelectContainer" class="rr-form-element slds-col slds-size_1-of-1 slds-medium-size_1-of-3">
                                            <label class="inlineBlock">{!$Label.PG_AS_F_2nd_Choice_Language}</label>
                                            <span class="slds-form-element__icon" style="inline; float:right">
                                                <button type="button" class="slds-button slds-button_icon" aria-describedby="salesforce-lightning-helptext-bubble_e9d01f7b-4039-a66d-d7d6-3859dd5f1248"
                                                    help-text="{!$Label.PG_AS_F_2nd_Choice_Language_Help_Text}">
                                                    <lightning-primitive-icon lightning-primitiveicon_primitiveicon-host="">
                                                        <svg lightning-primitiveIcon_primitiveIcon="" focusable="false" data-key="info" aria-hidden="true" class="slds-button__icon">
                                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="info">
                                                                <path d="M12 .9C5.9.9.9 5.9.9 12s5 11.1 11.1 11.1 11.1-5 11.1-11.1S18.1.9 12 .9zm0 5.6c.8 0 1.4.6 1.4 1.4s-.6 1.4-1.4 1.4-1.4-.6-1.4-1.4.6-1.4 1.4-1.4zm2.3 9.7c0 .2-.2.4-.5.4h-3.6c-.3 0-.5-.1-.5-.4v-.9c0-.3.2-.5.5-.5.2 0 .4-.2.4-.4v-1.9c0-.2-.2-.5-.4-.5-.3 0-.5-.1-.5-.4v-.9c0-.3.2-.5.5-.5h2.7c.3 0 .5.2.5.5v3.7c0 .2.2.4.4.4.3 0 .5.2.5.5v.9z"></path>
                                                            </svg>
                                                        </svg>
                                                    </lightning-primitive-icon>
                                                    <span class="slds-assistive-text"></span>
                                                </button>
                                            </span>

                                            <apex:inputField style="font-size: larger;" styleClass="slds-input" value="{!userVal.contact.Second_Choice_Language__c}">
                                                <apex:actionSupport event="onchange" action="{!updateLanguageAction}" />
                                            </apex:inputField>
                                        </div>
                                        <div id="langSelectContainer" class="rr-form-element slds-col slds-size_1-of-1 slds-medium-size_1-of-3">
                                            <label class="inlineBlock">{!$Label.PG_AS_F_3rd_Choice_Language}</label>
                                            <span class="slds-form-element__icon" style="inline; float:right">
                                                <button type="button" class="slds-button slds-button_icon" aria-describedby="salesforce-lightning-helptext-bubble_e9d01f7b-4039-a66d-d7d6-3859dd5f1248"
                                                    help-text="{!$Label.PG_AS_F_3rd_Choice_Language_Help_Text}">
                                                    <lightning-primitive-icon lightning-primitiveicon_primitiveicon-host="">
                                                        <svg lightning-primitiveIcon_primitiveIcon="" focusable="false" data-key="info" aria-hidden="true" class="slds-button__icon">
                                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="info">
                                                                <path d="M12 .9C5.9.9.9 5.9.9 12s5 11.1 11.1 11.1 11.1-5 11.1-11.1S18.1.9 12 .9zm0 5.6c.8 0 1.4.6 1.4 1.4s-.6 1.4-1.4 1.4-1.4-.6-1.4-1.4.6-1.4 1.4-1.4zm2.3 9.7c0 .2-.2.4-.5.4h-3.6c-.3 0-.5-.1-.5-.4v-.9c0-.3.2-.5.5-.5.2 0 .4-.2.4-.4v-1.9c0-.2-.2-.5-.4-.5-.3 0-.5-.1-.5-.4v-.9c0-.3.2-.5.5-.5h2.7c.3 0 .5.2.5.5v3.7c0 .2.2.4.4.4.3 0 .5.2.5.5v.9z"></path>
                                                            </svg>
                                                        </svg>
                                                    </lightning-primitive-icon>
                                                    <span class="slds-assistive-text"></span>
                                                </button>
                                            </span>
                                            <apex:inputField style="font-size: larger;" styleClass="slds-input" value="{!userVal.Contact.Third_Choice_Language__c}">
                                                <apex:actionSupport event="onchange" action="{!updateLanguageAction}" />
                                            </apex:inputField>
                                        </div>
                                    </div>
                                </apex:outputPanel>

                                <div class="section-header" style="margin-top: 30px">{!$Label.PG_Login_H_Date_Format}</div>
                                <apex:outputPanel>
                                    <div class="slds-grid slds-wrap slds-gutters">
                                        <div id="langSelectContainer" class="rr-form-element slds-col slds-size_1-of-1 slds-medium-size_1-of-3">
                                            <label>{!$Label.PG_AS_F_Preferred_Timezone}</label>
                                            <apex:inputField styleClass="slds-input" value="{!userVal.TimeZoneSidKey}" />
                                        </div>
                                        <div id="langSelectContainer" class="rr-form-element slds-col slds-size_1-of-1 slds-medium-size_1-of-3">
                                            <label>{!$Label.PG_AS_F_Locale_For_Date_Format}</label>
                                            <apex:inputField styleClass="slds-input" value="{!userVal.LocaleSidKey}" />
                                        </div>
                                        <div class="slds-col cp-language-blank slds-medium-size_1-of-3" />
                                    </div>
                                </apex:outputPanel>

                                <!-- SAVE Button: -->
                                <div class="cp-save-btn-container">
                                    <apex:commandButton action="{!checkPasswords}" value="{!$Label.PG_Login_BTN_Save_And_Continue}" styleClass="apollo-btn primary cp-save-btn"
                                        disabled="{!isSaveButtonDisabled}" id="saveButton" />

                                </div>
                                <div class="cp-info-titile" style="color: #000; text-align: center">{!$Label.PG_Login_T_This_Site_Optimized_For}</div>
                                <div style="height: 80px"></div>
                            </div>
                        </div>
                    </apex:outputPanel>

                    <!-- TC block: -->
                    <apex:outputPanel styleClass="rr-body-content body-content" rendered="{!!isProfileView}">
                        <div class="rr-width-limiter side-padding">
                            <!--div class="alert">Text along the line "We are glade you have decided to join as"...</div-->
                            <apex:messages styleClass="lg-error-alert" />
                            <div class="main-header">{!$Label.PG_TC_H_Terms_And_Conditions}</div>
                            <!--<div class="{!if(browserLanguage != null,'terms-and-conditions cookie-policy-padding','terms-and-conditions')}">-->
                            <div class="terms-and-conditions">
                                <apex:outputText value=" {!tcText}" escape="false" />
                            </div>
                            <div style="height: 80px"></div>
                        </div>
                        <!--<div class="{!if(browserLanguage != null,'rr-bottom-bar-area cookie-bottom','rr-bottom-bar-area')}">-->
                        <div class="rr-bottom-bar-area">
                            <div class="rr-bottom-bar">
                                <div class="rr-bottom-bar-line"></div>
                                <div class="rr-width-limiter bar-content side-padding" style="justify-content: space-between">
                                    <div class="tc-accept-text" style="{!if(isRTL,'margin-right:1px','')}">{!$Label.PG_TC_H_Do_You_Accept}</div>
                                    <apex:commandButton action="{!showProfileAction}" value="{!$Label.BTN_Back}" styleClass="{!if(isRTL,'apollo-btn secondary btnRTL','apollo-btn secondary')}"
                                    />
                                    <apex:commandButton action="{!changePassword}" value="{!$Label.BTN_I_Accept}" styleClass="{!if(isRTL,'apollo-btn primary btnprimaryRTL','apollo-btn primary')}"
                                    />
                                </div>
                            </div>
                        </div>
                    </apex:outputPanel>
                    <div class="footer">
                        <div class="rr-width-limiter side-padding">
                            <div class="copyright">{!$Label.Footer_T_Copyright}</div>
                        </div>
                    </div>
                    <apex:outputPanel style="display:block; height: 72px" rendered="{!!isProfileView}"></apex:outputPanel>

                </apex:outputPanel>

                <apex:outputPanel rendered="{!AND(currentCommunityName != 'IQVIA Referral Hub' , currentCommunityName != 'Janssen Community')}">
                    <c:CookiesInfo isRTL="{!isRTL}" rendered="{!browserLanguage != null}" />
                </apex:outputPanel>


            </apex:form>
        </div>

    </div>
    <apex:outputPanel rendered="{!OR(currentCommunityName == 'IQVIA Referral Hub',currentCommunityName == 'Janssen Community')}">
        <apex:form>
            <c:PPCookiesBanner community="{!currentCommunityName}" rendered="{!browserLanguage != null}" />
        </apex:form>
    </apex:outputPanel>
    <style>
        /* Tooltip for Text length overflow  */

        .tooltip1 span {
            text-decoration: none;
            position: absolute;
            background-color: #002448;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            font-size: .850rem;
            font-weight: 400;
            text-align: left;
            width: max-content;
            max-width: 320px;
            top: 0;
            left: 50%;
            margin-top: -10px;
            visibility: hidden;
            opacity: 0;
        }

        .tooltip1:hover {
            position: relative;
        }

        .tooltip1:hover span {
            opacity: 1;
            visibility: visible;
            transform: translate(-50%, -100%) scale(1);
            animation: pulse 1s;
        }

        .tooltip1:hover span::after {
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            border: solid transparent;
            content: '';
            height: 0;
            width: 0;
            position: absolute;
            pointer-events: none;
            border-top: 8px solid #002448;
            border-right: 8px solid transparent;
            border-left: 8px solid transparent;
            border-width: 10px;
        }

        .tooltip1 {
            position: relative;
            display: inline-block;
            cursor: pointer;
            white-space: nowrap;
        }

        .textoverlap {
            width: 9rem;
            text-overflow: ellipsis;
            white-space: nowrap;
            overflow: hidden;
        }

        .marginbottom {
            margin-bottom: 2px !important;
        }



        /* ----------------END-----------*/
    </style>

</apex:page>