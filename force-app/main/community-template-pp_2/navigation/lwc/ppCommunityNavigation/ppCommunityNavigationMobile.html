<template>
    <div class="mobileMenu" data-id="mobileMenu">
        <div class="coverArea"></div>
        <template for:each={participantTabs} for:item="item">
            <template if:false={item.expand}>
                <div
                    class={menuCss}
                    key={item.label}
                    data-page-name={item.page}
                    onclick={handleNavigation}
                >
                    <c-web-icon
                        icon-name={item.icon}
                        icon-color="white"
                        icon-size="medium"
                    ></c-web-icon>
                    <span> {item.label} </span>
                    <template if:true={item.ismsg}>
                        <c-nav-message-counter
                            is-message-page="true"
                            onmsgnotify={handleMessageNotification}
                        ></c-nav-message-counter>
                    </template>
                </div>
            </template>
            <!--dropdown menu -->
            <template if:true={item.expand}>
                <div class="slds-border_top" key={item.label}>
                    <div
                        class="slds-dropdown-trigger slds-dropdown-trigger_click my-menu"
                        data-key={item.label}
                    >
                        <div>
                            <c-web-icon
                                icon-name={item.icon}
                                icon-color="white"
                                icon-size="medium"
                            ></c-web-icon>
                            <a
                                href="javascript:void(0);"
                                aria-haspopup="true"
                                onclick={dropdownMenu}
                                class="slds-text-color_inverse color-text-link-disabled"
                            >
                                {item.label}
                            </a>
                        </div>
                        <template if:true={showSubMenu}>
                            <template for:each={submenu} for:item="subItem">
                                <template if:true={subItem.visible}>
                                    <div key={subItem.label}>
                                        <a onclick={handleNavigationSubMenu}  data-pagename={subItem.page}>
                                            <span
                                                class="slds-truncate slds-text-color_inverse"
                                                title={subItem.label}
                                                >{subItem.label} 
                                            </span>
                                        </a>
                                    </div>
                                </template>
                            </template>
                        </template>
                    </div>
                </div>
            </template>
        </template>
    </div>
</template>