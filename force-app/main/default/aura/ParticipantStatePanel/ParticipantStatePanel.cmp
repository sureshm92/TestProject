<!--
 - Created by Leonid Bartenev
 -->

<aura:component description="ParticipantStatePanel" controller="ParticipantStateRemote">

    <!-- attributes: -->
    <aura:attribute name="peStatusesPathList" type="List"/>
    <aura:attribute name="peStatusStateMap" type="Map"/>
    <aura:attribute name="pe" type="Object"/>
    <aura:attribute name="pse" type="Object"/>
    <aura:attribute name="psePath" type="List"/>

    <!-- handlers: -->
    <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>

    <!-- component body: -->
    <div class="psp-study-card">
        <c:RRSpinner aura:id="spinner" size="small" showSpinner="true"/>
        <aura:if isTrue="{!empty(v.pse)}">
            <c:ViewPatientItem pe="{!v.pe}"
                               peStatusesPathList="{!v.peStatusesPathList}"
                               peStatusStateMap="{!v.peStatusStateMap}"
                               changeStatusBtnList="{!v.changeStatusBtnList}"
                               singlePatientView="true"/>
            <aura:set attribute="else">
                <c:PSECard pse="{!v.pse}" psePath="{!v.psePath}"/>
            </aura:set>
        </aura:if>
    </div>


</aura:component>