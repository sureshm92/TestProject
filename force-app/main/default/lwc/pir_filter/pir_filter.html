<template>
  <div class={filterClass}>
    <template if:false={loaded}>
      <lightning-spinner alternative-text="Loading"></lightning-spinner>
    </template>
    <template if:true={isJanssen}>
    <div class="slds-grid slds-wrap slds-gutters slds-m-top_medium">
      <div class="slds-col slds-size_1-of-12 w-info-icon">
        <lightning-icon
          icon-name="utility:info"
          size="x-small"
          alternative-text="search"
          title="search"
          class=""
        ></lightning-icon>
      </div>
        <div class="slds-col slds-size_11-of-12 w-info-text">
          <div class="info-text">
            Use the ethnicity filtering feature to prioritize outreach to diverse
            Participants.
          </div>
        </div>
      </div>
    </template>
    <div class="slds-grid slds-wrap slds-gutters slds-m-top_small">
      <div
        class="
          slds-col
          slds-size_1-of-1
          slds-medium-size_2-of-12
          slds-large-size_2-of-12
          m-bottom-small
        "
      >
        <div class="filter-heading">Study Information</div>
      </div>
      <div
        class="
          slds-col
          slds-size_1-of-1
          slds-medium-size_10-of-12
          slds-large-size_10-of-12
        "
      >
        <div class="slds-grid slds-wrap slds-gutters">
          <div
            class="
              slds-col
              slds-size_1-of-2
              slds-medium-size_2-of-12
              slds-large-size_2-of-12
              m-bottom-small
              p-left-none
            "
          >
            <lightning-combobox
              name="Active/Inactive"
              label="Active/Inactive"
              value={selectedActiveInactive}
              placeholder=""
              options={activeoptions}
              onchange={activehandleChange}
            ></lightning-combobox>
          </div>
          <div
            class="
              slds-col
              slds-size_1-of-2
              slds-medium-size_2-of-12
              slds-large-size_2-of-12
              m-bottom-small
              p-left-none
            "
          >
            <lightning-combobox
              name="Study"
              label="Study"
              value={defaultStudy}
              placeholder=""
              options={studylist}
              onchange={studyhandleChange}
            ></lightning-combobox>
          </div>
          <div
            class="
              slds-col
              slds-size_1-of-2
              slds-medium-size_2-of-12
              slds-large-size_2-of-12
              m-bottom-small
              p-left-none
            "
          >
            <lightning-combobox
              name="StudySites"
              label="Study Sites"
              value={defaultSite}
              placeholder=""
              options={studySiteList}
              onchange={studysiteshandleChange}
            ></lightning-combobox>
          </div>
          <div
            class="
              slds-col
              slds-size_1-of-2
              slds-medium-size_2-of-12
              slds-large-size_2-of-12
              m-bottom-small
              p-left-none
            "
          >
            <lightning-combobox
              name="Status"
              label="Status"
              value={defaultStatus}
              placeholder=""
              options={statusoptions}
              onchange={statushandleChange}
            ></lightning-combobox>
          </div>
          <div
            class="
              slds-col
              slds-size_1-of-2
              slds-medium-size_2-of-12
              slds-large-size_2-of-12
              m-bottom-small
              p-left-none
            "
          >
            <lightning-combobox
              name="Source"
              label="Source"
              value={defaultSource}
              placeholder=""
              options={sourceoptions}
              onchange={sourcehandleChange}
            ></lightning-combobox>
          </div>
        </div>
        <!-- slds-grid-->
      </div>
    </div>
    <!-- slds-grid study Information -->

    <div class="slds-grid slds-wrap slds-gutters slds-m-top_medium">
      <div
        class="
          slds-col
          slds-size_1-of-1
          slds-medium-size_2-of-12
          slds-large-size_2-of-12
        "
      >
        <div class="filter-heading">Demographics</div>
      </div>
      <div
        class="
          slds-col
          slds-size_1-of-1
          slds-medium-size_10-of-12
          slds-large-size_10-of-12
        "
      >
        <div class="slds-grid slds-wrap slds-gutters">
          <div
            class="
              slds-col
              slds-size_1-of-1
              slds-medium-size_6-of-12
              slds-large-size_6-of-12
              p-left-none
              w-Demographics
            "
          >
            <div class="slds-grid slds-wrap slds-gutters">
              <div
                class="
                  slds-col
                  slds-size_5-of-12
                  slds-medium-size_5-of-12
                  slds-large-size_5-of-12
                  m-bottom-small
                "
              >
                <p class="filter-age">Age is between</p>
              </div>
              <div
                class="
                  slds-col
                  slds-size_2-of-12
                  slds-medium-size_2-of-12
                  slds-large-size_2-of-12
                  m-bottom-small
                  p-left-none p-right-demo p-age-lr
                "
              >
                <div class="slds-form-element">
                  <div class="slds-form-element__control">
                    <lightning-input
                      type="number"
                      id="text-input-id-68"
                      name="input1"
                      min="0"
                      max="150"
                      value={ageStartValue}
                      data-name="agestart"
                      onchange={handleAgeStartChange}
                    ></lightning-input>
                  </div>
                </div>
              </div>
              <div
                class="
                  slds-col
                  slds-size_1-of-12
                  slds-medium-size_1-of-12
                  slds-large-size_1-of-12
                  m-bottom-small
                  p-left-none p-left-age
                "
              >
                <p class="filter-age">and</p>
              </div>
              <div
                class="
                  slds-col
                  slds-size_4-of-12
                  slds-medium-size_3-of-12
                  slds-large-size_3-of-12
                  m-bottom-small
                  p-left-none p-left-demo p-right-age
                "
              >
                <div class="slds-form-element">
                  <div class="slds-form-element__control">
                    <lightning-input
                      type="number"
                      id="text-input-id-69"
                      name="input11"
                      min="0"
                      max="150"
                      value={ageEndValue}
                      data-name="ageend"
                      onchange={handleAgeEndChange}
                    ></lightning-input>
                  </div>
                </div>
              </div>
            </div>
            <!-- slds-grid-->
          </div>
          <!-- slds-col-->
          <!-- Ethnicity starts -->
          <div
            class="
              eth
              slds-col
              slds-size_1-of-2
              slds-medium-size_4-of-12
              slds-large-size_4-of-12
              outcome-form-element
              slds-m-bottom_medium
            "
          >
            <label class="slds-form-element__label slds-no-flex"
              >{RH_Ethnicity}<span class="close-icon" onclick={removeAllE}
                >Clear all</span
              ></label
            >
            <div
              class="
                slds-form-element__control
                slds-grow slds-input
                slds-p-around--none
                eBox
              "
              tabindex="0"
              onfocus={openETH}
              onblur={closeETH}
            >
              <div class="slds-combobox_container">
                <div
                  class="
                    slds-combobox
                    slds-dropdown-trigger
                    slds-dropdown-trigger_click
                    eBoxOpen
                  "
                >
                  <div
                    class="
                      slds-combobox__form-element
                      slds-input-has-icon slds-input-has-icon_right
                    "
                    role="none"
                  >
                    <div class="selectedOption">
                      <template if:true={selectedEthinicity}>
                        <template for:each={selectedEthinicity} for:item="item">
                          <span class="selectedValue" key={item.value}>
                            {item.label}
                            <lightning-icon
                              data-id={item.value}
                              icon-name="utility:clear"
                              size="x-small"
                              class="close-icon"
                              onclick={removeE}
                            ></lightning-icon>
                          </span>
                        </template>
                      </template>
                    </div>
                    <span
                      class="
                        slds-icon_container
                        slds-icon-utility-down
                        slds-input__icon slds-input__icon_right
                      "
                    >
                      <lightning-icon
                        icon-name="utility:down"
                        size="x-small"
                        alternative-text="down"
                      ></lightning-icon>
                    </span>
                  </div>
                  <div
                    data-id="ethinicityBox"
                    class="slds-dropdown slds-dropdown_fluid"
                    role="listbox"
                  >
                    <ul
                      class="slds-listbox slds-listbox_vertical"
                      role="presentation"
                    >
                      <template if:true={picklistValues}>
                        <template for:each={picklistValues} for:item="item">
                          <li
                            key={item.value}
                            role="presentation"
                            class="slds-listbox__item"
                          >
                            <div
                              id={item.value}
                              onclick={divSetEth}
                              class="
                                slds-media
                                slds-listbox__option slds-listbox__option_plain
                                slds-media_small
                              "
                              role="option"
                            >
                              <span
                                class="
                                  slds-media__figure
                                  slds-listbox__option-icon
                                "
                              ></span>
                              <span class="slds-media__body">
                                <label class="slds-truncate">
                                  <input
                                    type="checkbox"
                                    name={item.label}
                                    value={item.value}
                                    class="input-width noclk"
                                    onchange={setEthinicityList}
                                  />
                                  <span class="text-for-check"
                                    >{item.label}</span
                                  >
                                </label>
                              </span>
                            </div>
                          </li>
                        </template>
                      </template>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Ethnicity ends -->
          <div
            class="
              slds-col
              slds-size_1-of-2
              slds-medium-size_2-of-12
              slds-large-size_2-of-12
              m-bottom-small
              p-left-none
            "
          >
            <lightning-combobox
              name="Sex at Birth"
              label="Sex at Birth"
              value={defaultSex}
              placeholder=""
              options={sexatbirthoptions}
              onchange={sexatbirthhandleChange}
            ></lightning-combobox>
          </div>
          <div
            class="
              slds-col
              slds-size_1-of-2
              slds-medium-size_2-of-12
              slds-large-size_2-of-12
              m-bottom-small
              p-left-none
            "
          ></div>
        </div>
        <!-- slds-grid-->
      </div>
    </div>
    <!-- slds-grid study Information -->

    <div class="slds-grid slds-wrap slds-gutters slds-m-top_medium">
      <div
        class="
          slds-col
          slds-size_1-of-1
          slds-medium-size_2-of-12
          slds-large-size_2-of-12
        "
      >
        <div class="filter-heading">Others</div>
      </div>
      <div
        class="
          slds-col
          slds-size_1-of-1
          slds-medium-size_10-of-12
          slds-large-size_10-of-12
        "
      >
        <div class="slds-grid slds-wrap slds-gutters">
          <div
            class="
              slds-col
              slds-size_1-of-1
              slds-medium-size_7-of-12
              slds-large-size_7-of-12
            "
          >
            <div class="slds-grid slds-wrap slds-gutters">
              <div
                class="
                  slds-col
                  slds-size_1-of-2
                  w-high-risk
                  other-m-top
                  m-bottom-small
                "
              >
                <lightning-input
                  type="checkbox"
                  label="High Risk"
                  name="HighRisk"
                  checked={defaultHighRisk}
                  onchange={handleHighRisk}
                ></lightning-input>
              </div>
              <div
                class="
                  slds-col
                  slds-size_1-of-2
                  w-high-priority
                  other-m-top
                  m-bottom-small
                "
              >
                <lightning-input
                  type="checkbox"
                  label="High Priority"
                  name="HighPriority"
                  checked={defaultHighPriority}
                  onchange={handleHighPriority}
                ></lightning-input>
              </div>
              <div
                class="
                  slds-col
                  slds-size_1-of-2
                  w-comorbidities
                  other-m-top
                  m-bottom-small
                "
              >
                <lightning-input
                  type="checkbox"
                  label="Comorbidities"
                  name="Comorbidities"
                  checked={defaultComorbidities}
                  onchange={handleComorbidities}
                ></lightning-input>
              </div>
              <div
                class="slds-col slds-size_1-of-2 w-initial-visit m-bottom-small"
              >
                <lightning-combobox
                  name="InitialVisit"
                  label="Initial Visit"
                  value={ininialvisitScheduledOption}
                  placeholder="Select"
                  options={initialvisitoptions}
                  onchange={initialvisithandleChange}
                >
                </lightning-combobox>
              </div>
            </div>
            <!-- slds-grid-->
          </div>
          <!-- slds-col -->
          <div
            class="
              slds-col
              slds-size_1-of-1
              slds-medium-size_5-of-12
              slds-large-size_5-of-12
            "
          >
            <div class="slds-grid slds-wrap slds-gutters">
              <div
                class="
                  slds-col
                  slds-size_1-of-1
                  slds-medium-size_12-of-12
                  slds-large-size_12-of-12
                "
              >
                <div class="slds-grid slds-wrap slds-gutters">
                  <div
                    class="
                      slds-col
                      slds-size_1-of-1
                      w-scheduled-date
                      m-bottom-small
                    "
                  >
                    <div class="slds-form-element">
                      <label class="slds-form-element__label" for="">
                        Initial Visit Scheduled Date
                      </label>
                    </div>
                  </div>
                </div>
                <div class="slds-grid slds-wrap slds-gutters">
                  <div
                    class="
                      slds-col
                      slds-size_1-of-2
                      w-date
                      m-top-date m-bottom-small
                    "
                  >
                    <lightning-input
                      type="date"
                      name="date1"
                      label=""
                      placeholder="mm/dd/yyyy"
                      disabled={isInitialVisitSelected}
                      value={initialvisitStart}
                      data-name="datestart"
                      onchange={handleInitialVisitStartDateChange}
                    ></lightning-input>
                  </div>
                  <div
                    class="
                      slds-col
                      slds-size_1-of-2
                      w-to
                      m-top-date m-bottom-small
                    "
                  >
                    <p class="filter-date">to</p>
                  </div>
                  <div
                    class="
                      slds-col
                      slds-size_1-of-2
                      w-date w-date-right
                      m-top-date m-bottom-small
                    "
                  >
                    <lightning-input
                      type="date"
                      name="date2"
                      label=""
                      placeholder="mm/dd/yyyy"
                      disabled={isInitialVisitSelected}
                      value={initialvisitEnd}
                      data-name="dateend"
                      onchange={handleInitialVisitEndDateChange}
                    ></lightning-input>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- slds-col -->
        </div>
        <!-- slds-grid-->
      </div>
      <!-- slds-col -->
    </div>
    <!-- slds-grid Others  -->
    <div
      class="
        slds-grid slds-wrap slds-gutters
        slds-m-top_medium
        slds-m-bottom_large
      "
    >
      <div
        class="
          slds-col
          slds-size_1-of-1
          slds-medium-size_12-of-12
          slds-large-size_12-of-12
        "
      >
        <div class="slds-btn-right hidebutton">
          <button
            class="
              slds-button
              apollo-btn
              secondary
              reset-btn
              slds-p-around_x-medium
            "
            onclick={resetFilter}
          >
            Reset
          </button>
          <button
            class="
              apollo-btn
              secondary
              ipad-mode-btn
              filter-btn
              slds-p-around_x-medium
            "
            onclick={createPreset}
            disabled={isbuttonenabled}
          >
            Create Preset
          </button>
          <button
            class="
              apollo-btn
              secondary
              ipad-mode-btn
              filter-btn
              slds-p-around_x-medium
            "
            onclick={applyFilter}
            disabled={isbuttonenabled}
          >
            Apply Filter
          </button>
        </div>
      </div>
    </div>
    <!-- button -->
  </div>
  <!-- filter-area -->
  <template if:true={shoulddisplaypopup}>
      <c-pir_createpreset onclosepresetmodel={closepresetmodel} filter-wrapper={filterWrapper}> </c-pir_createpreset>
  </template>
</template>