<!--
 - Created by Leonid Bartenev
 -->

<aura:component description="CommunityNavigation" extends="c:AbstractNavigation">

    <!-- component body: -->
    <ul class="{!'nav-menu ' + if(v.isArabic, 'rtl ', ' ') + if(v.scrollRequired, v.scrollDirection, '')}" aura:id="navMenu">
        <aura:iteration items="{!v.menuItems}" var="item">
            <!--<li class="{!item.page == v.currentPage ? 'nav-item active' : 'nav-item'}" data-page-name="{!item.page}"
                onclick="{!equals(item.page, 'resources') ? c.onClickResource : c.onClick}">
                {!item.label}
                <aura:if isTrue="{!equals(item.page, 'messages')}">
                    <c:navMessageCounter isOnPage="{!item.page == v.currentPage}"/>
                </aura:if>
            </li>-->
            <aura:if isTrue="{!equals(item.page, 'resources')}">
                <!--<li>-->
                <c:uiHeaderMenu aura:id="menuId">
                    <aura:set attribute="title">
                        <div>{!item.label}</div>
                        <c:RRIcon iconName="icon-chevron-down" class="icon-chevron-down-resources"/>
                    </aura:set>
                    <c:uiMenuItem label="{!$Label.c.Navigation_Library}" onclick="{!c.onClickResource}"/>
                    <c:uiMenuItem label="{!$Label.c.Navigation_Media_Outreach}"/>
                </c:uiHeaderMenu>
                <!--</li>-->
                <aura:set attribute="else">
                    <li class="{!item.page == v.currentPage ? 'nav-item active' : 'nav-item'}" data-page-name="{!item.page}"
                        onclick="{!c.onClick}">
                        {!item.label}
                        <aura:if isTrue="{!equals(item.page, 'messages')}">
                            <c:navMessageCounter isOnPage="{!item.page == v.currentPage}"/>
                        </aura:if>
                    </li>
                </aura:set>
            </aura:if>
        </aura:iteration>
    </ul>

    <aura:if isTrue="{!v.scrollRequired}">
        <div class="{!'scroll-btn-container ' + v.scrollDirection}" onclick="{!c.doScroll}">
            <aura:if isTrue="{!v.scrollDirection =='left'}">
                <c:RRIcon iconName="icon-chevron-right"/>
            </aura:if>
            <aura:if isTrue="{!v.scrollDirection =='right'}">
                <c:RRIcon iconName="icon-chevron-left"/>
            </aura:if>
        </div>
    </aura:if>


</aura:component>

