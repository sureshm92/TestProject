<!--
 - Created by Nargiz Mamedova on 12/13/2019.
 -->

<aura:component description="RelevantLinks" controller="RelevantLinksRemote"
                implements="forceCommunity:availableForAllPageTypes">

    <aura:attribute name="links" type="Object[]"/>
    <aura:attribute name="isAvailable" type="Boolean"/>
    <aura:attribute name="initialized" type="Boolean"/>

    <ltng:require scripts="{!$Resource.rr_community_js}" afterScriptsLoaded="{!c.doInit}"/>

    <aura:if isTrue="{!v.isAvailable}">
        <div aura:id="panel" class="sv-panel rr-white-panel" data-gtm="PNL_RelevantLinks">
            <c:RRSpinner aura:id="spinner" size="small" showSpinner="true"/>
            <aura:if isTrue="{!v.initialized}">
                <div class="sv-header">
                    <div class="sv-title">{!$Label.c.Home_Page_RelevantLinks_Title}</div>
                </div>
                <div class="sv-body">
                    <aura:iteration var="link" items="{!v.links}">
                        <div class="link-container">
                            <c:RRLink href="{!link.URL__c}" label="{!link.Title__c}" target="_blank" class="link"/>
                        </div>
                    </aura:iteration>
                    <c:EmptyListStub targetList="{!v.links}" iconName="none" message="{!$Label.c.PG_VP_L_No_Items_display}"/>
                </div>
            </aura:if>
        </div>
    </aura:if>
</aura:component>
