stages:

  #Validation:
  - VALIDATE

  #5.0 INT
  - DeployINT5.0
  - RunTestINT5.0

  #5.0 INF
  - DeployINF5.0
  - RunTestINF5.0


cache:
  paths:
    - ~/.sfdx
    - .sfdx


# Validation: ------------------------------------------------------------------
VALIDATE:
  tags:
    - shell
  only:
    - merge_requests
  except:
    - push
    - commit

  stage: VALIDATE
  script:
    - chmod +x ./scripts/ci/validate.sh
    - . ./scripts/ci/validate.sh INTTreeTwo


# 5.0 INT: ---------------------------------------------------------------------
DeployINT5.0:
  tags:
    - shell
  only:
    - INT5.0
  except:
    - merge_requests

  stage: DeployINT5.0
  script:
    - chmod +x ./scripts/ci/deploy.sh
    - . ./scripts/ci/deploy.sh INT5_0

RunTestINT5.0:
  tags:
    - shell
  only:
    - INT5.0
  except:
    - merge_requests

  stage: RunTestINT5.0
  script:
    - chmod +x ./scripts/ci/run-tests.sh
    - . ./scripts/ci/run-tests.sh INT5_0



# 5.0 INF: ---------------------------------------------------------------------
DeployINF5.0:
  tags:
    - shell
  only:
    - INF5.0
  except:
    - merge_requests

  stage: DeployINF5.0
  script:
    - chmod +x ./scripts/ci/deploy.sh
    - . ./scripts/ci/deploy.sh INF5_0

RunTestINF5.0:
  tags:
    - shell
  only:
    - INF5.0
  except:
    - merge_requests

  stage: RunTestINF5.0
  script:
    - chmod +x ./scripts/ci/run-tests.sh
    - . ./scripts/ci/run-tests.sh INF5_0


