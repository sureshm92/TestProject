<messaging:emailTemplate subject="{!$Label.Participant_Visits_Available}"
                         recipientType="Contact"
                         relatedToType="Participant_Enrollment__c">

    <messaging:htmlEmailBody>
        <c:EmailTemplate recipientId="{!recipient.Id}"
                         parametersProvider="Email_Template_Parameters_From_PE"
                         sourceId="{!relatedTo.Id}"
                         header="{!$Label.Email_Header_Available}"
                         title="{!$Label.Email_Title_PH}"
                         greeting="{!$Label.Email_User_Greeting_FirstName}"
                         body="{!$Label.Email_Body_Available}"
                         signature="{!$Label.Email_Signature_Plain_Summary_Available}"
                         emailName="{!$CurrentPage.Name}">
            <c:EmailActionBtn buttonLabel="{!$Label.Email_Action_Login_now}"
                              resourceId="{!relatedTo.Id}"/>
        </c:EmailTemplate>
    </messaging:htmlEmailBody>

    <messaging:plainTextEmailBody>
        <c:EmailTemplateText recipientId="{!recipient.Id}"
                             parametersProvider="Email_Template_Parameters_From_PE"
                             sourceId="{!relatedTo.Id}"
                             header="{!$Label.Email_Header_Available}"
                             title="{!$Label.Email_Title_PH}"
                             greeting="{!$Label.Email_User_Greeting_FirstName}"
                             body="{!$Label.Email_Body_Available}"
                             signature="{!$Label.Email_Signature_Plain_Summary_Available}"
                             emailName="{!$CurrentPage.Name}">
            <c:EmailActionBtnText buttonLabel="{!$Label.Email_Action_Login_now}"
                                  resourceId="{!relatedTo.Id}"/>
        </c:EmailTemplateText>
    </messaging:plainTextEmailBody>
</messaging:emailTemplate>