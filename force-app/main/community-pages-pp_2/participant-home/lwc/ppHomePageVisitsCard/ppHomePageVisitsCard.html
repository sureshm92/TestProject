<template>
    <template if:true={isInitialized}>
        <article class="slds-card headercard">
            <div class="slds-card__header slds-grid cardwrap">
                <header class="slds-has-flexi-truncate">
                    <h2 class="slds-card__header-title">
                        <p class="slds-card__header-link slds-truncate upcoming" title="Outer Card Header">
                            <span>{labels.UPCOMING}</span>
                        </p>
                    </h2>
                </header>
            </div>
            <div class="slds-card__body slds-card__body_inner cardwrap">
                <article class="slds-card slds-card_boundary container-card ">
                    <div class="slds-card__body slds-card__body_inner content">




                        <div class="slds-card-wrapper slds-card_boundary visitcard ">
                            <article class="slds-card slds-has-bottom-magnet slds-has-bottom-magnet ">
                                <div class="slds-card__header slds-grid cardwrap">
                                    <header class="slds-has-flexi-truncate">
                                        <h2 class="slds-card__header-title">
                                            <p class="slds-card__header-link slds-truncate visitTitle"
                                                title="Card Header">
                                                <span>{visitName}</span>
                                            </p>
                                        </h2>
                                    </header>
                                </div>
                            </article>

                            <article class="slds-card slds-has-bottom-magnet slds-has-top-magnet cardwrap">
                                <div
                                    class="slds-card__header slds-grid slds-media slds-media_center slds-has-flexi-truncate cardwrap">

                                    <div class="slds-media__figure icon">

                                        <c-web-icon icon-size="medium" icon-name="calendar" data-id="calendar"
                                            icon-color="#00A3E0">
                                        </c-web-icon>


                                        <span class="slds-assistive-text">calendar</span>

                                    </div>
                                    <div class="slds-media__body">
                                        <div class="slds-card__header-title">
                                            <p class="slds-card__header-link slds-truncate visitText" title="Date">
                                                <template if:true={planDateTime}>
                                                    <span>
                                                        <lightning-formatted-date-time value={planDateTime}
                                                            year="numeric" month="long" day="numeric"
                                                            time-zone={userTimeZone}>
                                                        </lightning-formatted-date-time>
                                                    </span>
                                                </template>
                                                <template if:false={planDateTime}>
                                                    {labels.NO_DATE}
                                                </template>
                                            </p>
                                        </div>
                                    </div>

                                </div>
                            </article>
                            <article class="slds-card slds-has-bottom-magnet slds-has-top-magnet cardwrap">
                                <div class="slds-card__header slds-grid cardwrap">
                                    <header class="slds-media slds-media_center slds-has-flexi-truncate ">
                                        <div class="slds-media__figure icon">

                                            <c-web-icon icon-size="medium" icon-name="time_clock" data-id="clock"
                                                icon-color="#00A3E0">
                                            </c-web-icon>

                                            <span class="slds-assistive-text">clock</span>

                                        </div>
                                        <div class="slds-media__body">
                                            <div class="slds-card__header-title">
                                                <p class="slds-card__header-link slds-truncate visitText" title="Time">
                                                    <template if:true={planDateTime}>
                                                        <span>
                                                            <lightning-formatted-date-time value={planDateTime}
                                                                hour="2-digit" minute="2-digit" hour12={ampm}
                                                                time-zone={userTimeZone}>
                                                            </lightning-formatted-date-time>
                                                        </span>
                                                    </template>
                                                    <template if:false={planDateTime}>
                                                        {labels.NO_TIME}
                                                    </template>
                                                </p>
                                            </div>
                                        </div>
                                    </header>
                                </div>
                            </article>
                            <article class="slds-card slds-has-bottom-magnet slds-has-top-magnet cardwrap">
                                <div class="slds-card__header slds-grid cardwrap">
                                    <header class="slds-media slds-media_center slds-has-flexi-truncate ">
                                        <div class="slds-media__figure icon">

                                            <c-web-icon icon-size="medium" icon-name="location_pin" data-id="location"
                                                icon-color="#00A3E0">
                                            </c-web-icon>


                                            <span class="slds-assistive-text">location</span>

                                        </div>
                                        <div class="slds-media__body">
                                            <div class="slds-card__header-title">
                                                <div class="slds-card__header-link slds-truncate visitText"
                                                    title="location">
                                                    <span>{siteTitle}</span>
                                                    <p class="location">{siteLocation}</p>
                                                    <p class="location">{sitePhone}</p>
                                                </div>
                                            </div>
                                        </div>
                                    </header>
                                </div>
                            </article>




                        </div>
                        <hr>
                        <article class="slds-card iconCard">
                            <template if:true={iconDetails}>
                                <div class="slds-card__header slds-grid content1">
                                    <div class="slds-col expectText content1">
                                        {labels.What_to_Expect}
                                    </div>
                                </div>
                                <div class="slds-card__header slds-grid slds-wrap slds-grid_align-spread iconbox">
                                    <template for:each={iconDetails} for:item="icon">
                                        <div class="slds-col slds-size_5-of-12" key={icon.Name}>
                                            <div class="slds-media slds-media_center slds-has-flexi-truncate">
                                                <div class="slds-media__figure expectIcon">
                                                    <c-web-icon icon-size="medium" icon-name={icon.Name}
                                                        data-id={icon.Label__c} data-name={icon.Name}
                                                        icon-color="#00A3E0">
                                                    </c-web-icon>
                                                    <span class="slds-assistive-text">{icon.Label__c}</span>
                                                </div>
                                                <div class="slds-media__body">
                                                    <p class="slds-card__header-link slds-truncate iconName "
                                                        title="name">
                                                        <span>{icon.Label__c}</span>
                                                    </p>
                                                </div>

                                            </div>

                                        </div>
                                    </template>


                                </div>
                                <template if:true={moreIconsCount}>
                                    <div class="slds-card__body slds-card__body_inner slds-grid">
                                        <div class="slds-col more">
                                            + {moreIconsCount} {labels.MORE}
                                        </div>
                                    </div>
                                </template>
                                <template if:false={moreIconsCount}>
                                    <div class="slds-card__body slds-card__body_inner slds-grid">
                                        <div class="slds-col more">
                                        </div>
                                    </div>
                                </template>

                            </template>
                            <template if:false={iconDetails}>
                                <div class="noExpect">
                                    {labels.NO_EXPECT}
                                </div>
                            </template>
                        </article>

                    </div>
                </article>
            </div>
            <footer class="slds-card__footer cardwrap">
                <a class="slds-card__footer-action slds-align_absolute-center label"
                    href="pp/s/visits">{labels.View_Visit_Details}
                    <span class="slds-assistive-text">Visit Details</span>
                </a>
            </footer>
        </article>
    </template>
</template>