<aura:component
    description="SiteListPage"
    implements="forceCommunity:availableForAllPageTypes"
    controller="SiteListPageRemote"
    extends="c:CommunityContext"
>
    <ltng:require scripts="{!$Resource.rr_community_js}" afterScriptsLoaded="{!c.doInit}" />
    <!--attributes-->
    <aura:attribute name="userMode" type="String" />
    <aura:attribute name="isInitialized" type="Boolean" default="false" access="private" />
    <aura:attribute
        name="emptyListMessage"
        type="String"
        access="private"
        default="{!$Label.c.PG_VP_L_No_Items}"
    />
    <aura:attribute name="parent" type="Aura.Component" />
    <aura:attribute name="searchText" type="String" default="" />
    <aura:attribute name="searchList" type="List" />
    <aura:attribute name="sortVariants" type="List" />
    <aura:attribute name="sortType" type="String" default="Name ASC" />

    <!--handlers:-->
    <aura:handler event="c:EventCommunityInitialized" action="{!c.doInit}" />

    <!--methods-->
    <aura:method name="doRefesh" action="{!c.doInit}" />
    <aura:method name="callPartialSearch" action="{!c.doPartialSearch}">
        <aura:attribute name="selectedSearchOption" type="String" />
        <aura:attribute name="searchText" type="String" />
        <aura:attribute name="sortType" type="String" />
    </aura:method>

    <aura:method name="callExactSearch" action="{!c.doExactSearch}">
        <aura:attribute name="selectedSearchOption" type="String" />
        <aura:attribute name="searchText" type="String" />
        <aura:attribute name="sortType" type="String" />
    </aura:method>

    <!--component body:-->
    <c:RRSpinner aura:id="mainSpinner" size="medium" fixed="true" />
    <div class="vp-navigation">
        <div class="navigation-breadcrumbs">
            <c:RRNavigationPath>
                <c:RRNPathItem label="{!$Label.c.CC_HomePageLabel}" />
            </c:RRNavigationPath>
        </div>
    </div>
    <c:SiteSearchPanel
        searchText="{!v.searchText}"
        searchList="{!v.searchList}"
        parent="{!this}"
        sortType="{!v.sortType}"
        sortVariants="{!v.sortVariants}"
    />
    <c:builderStub aura:id="builderStub" />
</aura:component>
