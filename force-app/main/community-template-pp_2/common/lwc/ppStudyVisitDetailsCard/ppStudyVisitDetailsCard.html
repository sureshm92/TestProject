<template>
    <lightning-card>
    <div>
        <div class="locationTitle">Location</div>
        <div class="address">
            <div class="addressSection">              
                <div class="addressMarker">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16px" height="16px">
                        <path id="Shape"
                            d="m8-8.8718e-16c-4.4162 0.0049599-7.995 3.5838-8 8 0 3.51 5 12.025 7.148 15.524 0.18204 0.29589 0.5046 0.4761 0.852 0.476 0.34806 0.0016551 0.67147-0.17941 0.852-0.477 2.148-3.497 7.148-12.009 7.148-15.523-0.0049599-4.4162-3.5838-7.995-8-8zm0 11.5c-1.933 0-3.5-1.567-3.5-3.5s1.567-3.5 3.5-3.5 3.5 1.567 3.5 3.5-1.567 3.5-3.5 3.5z" />
                    </svg>
                </div>
                <div class="siteName"><b>{sitename}</b></div>
            </div>
            <div class="siteAddress">{siteaddress}</div>
            <div class="sitePhone">{sitephone}</div>
        </div>
        <div>     
            <c-pp-date-time-combo if:false={past} compdate={compDate} comptime={compTime} mindate={currentDate} mintime={currentTime} ondatechange={handleDate} ontimechange={handleTime} oninitialdateload={handleInitialDateLoad} oninitialtimeload={handleInitialTimeLoad}></c-pp-date-time-combo>              
                <div if:true={past} class="slds-grid slds-wrap">
                    <div class="slds-col slds-size_1-of-1 slds-small-size_1-of-2 slds-p-left_none">
                        <label>Date</label>
                        <div class="curveInput">
                            <svg class="svgIcon" fill="#000000" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16px" height="16px" >
                                <path d="m21.5 3h-2.75c-0.13807 0-0.25-0.11193-0.25-0.25v-1.75c0-0.55228-0.44772-1-1-1s-1 0.44772-1 1v4.75c0 0.41421-0.33579 0.75-0.75 0.75s-0.75-0.33579-0.75-0.75v-2.25c0-0.27614-0.22386-0.5-0.5-0.5h-6.25c-0.13768 1.1e-6 -0.24945-0.11132-0.25-0.249v-1.751c0-0.55228-0.44772-1-1-1s-1 0.44772-1 1v4.75c0 0.41421-0.33579 0.75-0.75 0.75s-0.75-0.33579-0.75-0.75v-2.25c0-0.27614-0.22386-0.5-0.5-0.5h-1.5c-1.1046 0-2 0.89543-2 2v17c0 1.1046 0.89543 2 2 2h19c1.1046 0 2-0.89543 2-2v-17c0-1.1046-0.89543-2-2-2zm-0.5 19h-18c-0.27614 0-0.5-0.22386-0.5-0.5v-12c0-0.27614 0.22386-0.5 0.5-0.5h18c0.27614 0 0.5 0.22386 0.5 0.5v12c0 0.27614-0.22386 0.5-0.5 0.5z" />
                            </svg>
                            <input disabled type="date" id="disableddate" value={dbCompletedDate} >
                        </div>
                    </div>
                </div>
            </div>
            <div>
                <div class="slds-grid slds-wrap">
                    <div class="slds-col slds-size_1-of-1 slds-small-size_1-of-2 slds-p-left_none">
                        <div if:false={past}>
                            <label>Reminder</label>
                            <div class="curveInput">
                                    <svg class="svgIcon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16px" height="16px">
                                        <path
                                            d="m12.236 21h-4.472c-0.12707 2.171e-4 -0.23377 0.095726-0.248 0.222-0.010897 0.092262-0.01624 0.1851-0.016 0.278 0 1.3807 1.1193 2.5 2.5 2.5 1.3807 0 2.5-1.1193 2.5-2.5 2.401e-4 -0.092904-0.0051029-0.18574-0.016-0.278-0.013357-0.12672-0.12058-0.2227-0.248-0.222z" />
                                        <path
                                            d="m19.446 19.276c-1.1445-2.2749-1.7424-4.7854-1.746-7.332v-0.768c0.056259-3.0248-1.3922-5.8805-3.866-7.622-0.70959-0.45744-1.5029-0.76947-2.334-0.918v-1.136c0-0.82843-0.67157-1.5-1.5-1.5-0.82843-5.0727e-17 -1.5 0.67157-1.5 1.5v1.149c-1.0372 0.19645-2.0138 0.63387-2.851 1.277-2.1617 1.7809-3.3945 4.4495-3.349 7.25v0.768c-0.0036425 2.5466-0.60149 5.0571-1.746 7.332-0.077588 0.15483-0.069526 0.33879 0.021308 0.48625 0.090835 0.14745 0.25151 0.2374 0.42469 0.23775h18c0.17347-1.784e-4 0.33446-0.090261 0.42536-0.23802 0.090895-0.14776 0.098708-0.33207 0.020645-0.48698v1e-3z" />
                                    </svg>
                                
                                <lightning-combobox
                                        data:id="reminderOption"
                                        placeholder="Select reminder"
                                        value={dbReminderOption}
                                        onchange={doValidateFields}
                                        options={reminderFrequencyList}
                                        disabled={showReminders}
                                ></lightning-combobox>
                            </div>
                        </div>
                    </div>
                    <div if:false={past} class="slds-col slds-size_3-of-4 slds-small-size_1-of-2 commChecks">
                            <div if:true={showEmailSms}>
                                <lightning-input
                                    data:id="emailField"
                                    label="Email"
                                    type="checkbox"
                                    name="Email"
                                    value={visitdata.task.Remind_Using_Email__c}
                                    enabled={emailOptIn}
                                    checked={visitdata.task.Remind_Using_Email__c}
                                    onchange={setAttributeValueEmail}
                                ></lightning-input>
                                <lightning-input
                                    data:id="smsField"
                                    type="checkbox"
                                    label="SMS"
                                    name="SMS"
                                    value={visitdata.task.Remind_Using_SMS__c}
                                    enabled={smsOptIn}
                                    checked={visitdata.task.Remind_Using_SMS__c}
                                    onchange={setAttributeValueSms}
                                ></lightning-input>
                            </div>
                            <div if:true={showEmailSms}> 
                                <a class="commLink" href={url}>
                                    <span>Update Notification Settings</span>
                                </a>   
                            </div>
                    </div>
                </div>
                <div if:false={past} style="padding-bottom: 24px;">
                    <c-pp-date-time-combo if:true={showreminderdatepicker} compdate={dbreminderdate} comptime={dbremindertime} mindate={currentDate} maxdate={visitDate} mintime={minReminderTime} maxtime={maxReminderTime} ondatechange={handleReminderDate} ontimechange={handleReminderTime} oninitialdateload={handleInitialReminderDateLoad} oninitialtimeload={handleInitialReminderTimeLoad} ondate={handleOnlyDate} ontimw={handleOnlyTime}></c-pp-date-time-combo>              
                </div>
            </div>    
            <div if:false={past} class="slds-size_1-of-1 btnFooter">
                <lightning-button
                    onclick={doCancel}
                    label="Discard"
                    disabled={disableButtonSaveCancel}
                    class="secondaryBtn"
                ></lightning-button>
                <lightning-button
                    onclick={doSave}
                    label="Save Changes"
                    disabled={disableButtonSaveCancel}
                    class="primaryBtn"
                ></lightning-button>
            </div>
        </div>
    </lightning-card>
</template>