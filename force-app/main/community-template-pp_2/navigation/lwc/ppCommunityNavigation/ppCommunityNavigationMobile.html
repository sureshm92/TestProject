<template>
    <template for:each={participantTabs} for:item="item">
        <template if:false={item.expand}>
            <div
                class={menuCss}
                key={item.label}
                data-page-name={item.page}
                onclick={handleNavigation}
            >
                <c-web-icon icon-name={item.icon} icon-color="white" icon-size="small"></c-web-icon>
                <span style="color: white; margin-left: 15px"> {item.label} </span>
            </div>
        </template>
        <!--dropdown menu -->
        <template if:true={item.expand}>
            <div class={menuCss} key={item.label}>
                <div
                    class="slds-dropdown-trigger slds-dropdown-trigger_click my-menu"
                    data-key={item.label}
                >
                    <c-web-icon
                        icon-name={item.icon}
                        icon-color="white"
                        icon-size="small"
                    ></c-web-icon>
                    <a
                        href="javascript:void(0);"
                        aria-haspopup="true"
                        title="Show More"
                        onclick={dropdownMenu}
                        class="slds-text-color_inverse color-text-link-disabled slds-var-p-around_x-small"
                    >
                        {item.label}
                        <lightning-icon
                            icon-name="utility:down"
                            alternative-text="dropdown"
                            title="dropdownIcon"
                            variant="inverse"
                            size="xx-small"
                            class="slds-var-p-around_xx-small"
                        >
                        </lightning-icon>
                    </a>
                    <div class="slds-dropdown slds-dropdown_left">
                        <ul class="slds-dropdown__list" role="menu" aria-label="Show More">
                            <template for:each={submenu} for:item="subItem">
                                <template if:true={subItem.visible}>
                                    <li
                                        class="slds-dropdown__item"
                                        role="presentation"
                                        key={subItem.label}
                                    >
                                        <a
                                            href={subItem.link}
                                            role="menuitem"
                                            onfocusout={removeElementFocus}
                                        >
                                            <span class="slds-truncate" title={subItem.label}
                                                >{subItem.label}
                                            </span>
                                        </a>
                                    </li>
                                </template>
                            </template>
                        </ul>
                    </div>
                </div>
            </div>
        </template>
    </template>
</template>
