<template>
    <div class={maindivcls}>
    <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true"
    aria-describedby="modal-content-id-1" class="slds-modal slds-modal_large slds-align--absolute-center slds-fade-in-open container_popup">
    <div >
        <div class="slds-modal__container custome-width">
            <div class="slds-modal__content" id="modal-content-id-1">
                <div class="bar"></div>
                <div class="slds-p-around_large">
                <div class="slds-grid slds-gutters close-arrow-left slds-m-bottom_small">
                    <div class="slds-col slds-large-size_11-of-12 slds-medium-size_11-of-12 slds-size_10-of-12">
                        <span class="title">{label.EditPreset}</span> 
                    </div>
                    <div class="slds-col slds-size_1-of-12 close-icon">
                        <div onclick={closeModel}>
                            <lightning-icon icon-name="utility:close"
                            alternative-text="close"
                            size="x-small" ></lightning-icon>
                            <span class="slds-assistive-text" onclick={closeModel}>Close</span>
                        </div>
                    </div>                  
                </div> 
                <div class="slds-grid slds-gutters close-arrow-left">
                    <div class="border-line-bott"></div>
                </div>
                <template if:false={disableEdit}>
                    <div class="slds-grid slds-wrap slds-gutters m-top-d">
                    
                        <div class="slds-col
                            slds-size_1-of-1
                            slds-medium-size_2-of-12
                            slds-large-size_2-of-12
                            m-bottom-small">
                        <div class="filter-heading">{label.PresetInformation}</div>
                        </div>
                        <div if:false={isnameUpdate}
                            class="
                            slds-col
                            slds-size_1-of-1
                            slds-medium-size_3-of-12
                            slds-large-size_3-of-12
                            m-bottom-small
                            p-left-none
                            "
                        >
                            <lightning-combobox name="preset" label={label.PresetName}
                            placeholder="Select" options={opts} value={presetSel} onchange={handlePresetChange}></lightning-combobox>    
                        
                        </div> 
                        <div if:false={isnameUpdate}
                            class="
                            slds-col
                            slds-size_1-of-1
                            slds-medium-size_1-of-12
                            slds-large-size_1-of-12
                            m-bottom-small
                            p-left-none
                            "
                        >
                            <span class="edit-icon enablePreset" onclick={editname}> <img class="slds-button__icon slds-m-left_xx-small pen" src={editIcon}/></span>
                        
                        </div> 
                        <div if:true={isnameUpdate}
                            class="
                            slds-col
                            slds-size_1-of-1
                            slds-medium-size_3-of-12
                            slds-large-size_3-of-12
                            m-bottom-small
                            p-left-none
                            "
                        >
                            <lightning-input class="pname" label={label.PresetName} type="text" value={seletedPresetName} onchange={handleNameChange} onblur={updateName}></lightning-input>
                        
                        </div> 
                    </div>  
                    <div class="scroll-bar">
                    <template if:true={showFilter}>
                        <c-pir_filter maindivcls={maindivcls} filter-class="edit" onupdfilter={checkUpd} filters={filterVal} ></c-pir_filter>
                    </template>
                    </div>
                    <div class="slds-grid slds-wrap margin-btn">
                        <div class="slds-col slds-size_1-of-1 slds-medium-size_12-of-12 slds-large-size_12-of-12">
                        <div class="slds-float_right mobile-width">   
                            <button class="slds-button apollo-btn secondary btn-height discard-btn cancel-btn" onclick={closeModel}> {label.Cancel}</button>
                            <button class="apollo-btn secondary ipad-mode-btn slds-p-around_x-small btn-height delete-btn"  onclick={deletePR}> {label.Delete} </button>
                            <button class="apollo-btn primary ipad-mode-btn slds-p-around_x-small btn-height update-btn" disabled={cantUpdate} onclick={updatePR}> {label.Update} </button>
                        </div>    
                        </div>
                    </div>
                    
                    </template>
                    <template if:true={disableEdit}>
                        <div>{label.NoPresetText}</div>
                    </template>
                </div>
            </div>
        </div>
    </div>
    <template if:true={isUpdating} class="slds-is-relative">
        <div class="slds-m-around_large vertical-scroll">
          <lightning-spinner alternative-text="Loading..." variant="brand">
          </lightning-spinner>
        </div>
      </template>
</section> 
</div>
<div class="slds-backdrop slds-backdrop_open containerbackdrop_popup"></div>
    
<template if:true={shoulddisplaydelete}>
    <c-pir_deletepreset maindivcls={maindivcls} onclosedeletemodel={closeDeletemodel} selectedpreset={selectedPresetWrapper} > </c-pir_deletepreset>
</template>

</template>