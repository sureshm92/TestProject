<template>
    <div class={comboboxClass}>
        <template if:false={labelHidden}>
            <div class={labelClass}>{label}</div>
        </template>

        <div
            id="dropdown"
            class={dropdownClass}
            onclick={toggleElement}
            onfocusout={removeElementFocus}
            tabindex="0"
        >
            <template if:true={selectedValue}>
                <span class="dropdown-span slds-truncate">{currentHeaderLabel}</span>
            </template>
            <template if:false={selectedValue}>
                <span class="dropdown-span slds-truncate placeholder-label"
                    >{currentHeaderLabel}</span
                >
            </template>

            <ul class="dropdown-menu" data-id="dropdown-menu">
                <template if:false={isDisabledOptions}>
                    <template for:each={options} for:item="option">
                        <li
                            key={option.value}
                            class="dropdown-li"
                            value={option.value}
                            data-value={option.value}
                            data-label={option.label}
                            onclick={handleOptionSelect}
                        >
                            <lightning-formatted-rich-text
                                value={option.label}
                            ></lightning-formatted-rich-text>
                        </li>
                    </template>
                </template>

                <template if:true={isDisabledOptions}>
                    <template for:each={options} for:item="option">
                        <li
                            key={option.value}
                            class={option.itemClass}
                            value={option.value}
                            data-value={option.value}
                            data-label={option.label}
                            onclick={handleOptionSelect}
                        >
                            <lightning-formatted-rich-text
                                value={option.label}
                            ></lightning-formatted-rich-text>
                        </li>
                    </template>
                </template>
            </ul>
        </div>
    </div>
</template>
