<!--
 - Created by Igor Malyuta on 29.04.2020.
 -->

<apex:component id="InitialWireframe" controller="InitialWireframeController" access="global">

    <!-- attributes: -->
    <apex:attribute name="userId" type="Id" assignTo="{!recordId}" description="" access="global"/>
    <apex:attribute name="communityTemplate" type="String" assignTo="{!commTemplate}" description="" access="global"/>
    <apex:attribute name="buttonLabel" type="String" description="" access="global"/>
    <apex:attribute name="buttonURL" type="String" description="" access="global"/>
    <apex:attribute name="outputType" type="String" assignTo="{!outputMode}" description="" default="HTML"/>

    <!-- Participant -->
    <c:EmailWireframe rendered="{!AND(NOT(isDelegate), userMode == 'Participant')}"
                      recipientId="{!recordId}"
                      sourceId="{!recordId}"
                      header="{!templateLabels['header']}"
                      title="{!templateLabels['title']}"
                      greeting="{!templateLabels['greeting']}"
                      signature="{!templateLabels['signature']}">
        <!-- Inner body -->
        <c:Paragraph emailLabel="{!templateLabels['body']}"/>
        <c:EmailActionBtn buttonLabel="{!buttonLabel}" buttonURL="{!buttonURL}"/>
    </c:EmailWireframe>

    <!-- Participant Delegate -->
    <c:EmailWireframe rendered="{!AND(isDelegate, userMode == 'Participant')}"
                      recipientId="{!recordId}"
                      sourceId="{!recordId}"
                      header="{!templateLabels['header']}"
                      title="{!templateLabels['title']}"
                      greeting="{!templateLabels['greeting']}"
                      signature="{!templateLabels['signature']}">
        <!-- Inner body -->
        <c:Paragraph emailLabel="{!templateLabels['body']}"/>
        <c:EmailTemplateDelegateParticipant userId="{!recordId}"/>
        <c:EmailActionBtn buttonLabel="{!buttonLabel}" buttonURL="{!buttonURL}"/>
    </c:EmailWireframe>

    <!-- PI -->
    <c:EmailWireframe rendered="{!AND(NOT(isDelegate), userMode == 'PI')}"
                      recipientId="{!recordId}"
                      sourceId="{!recordId}"
                      header="{!templateLabels['header']}"
                      title="{!templateLabels['title']}"
                      greeting="{!templateLabels['greeting']}"
                      signature="{!templateLabels['signature']}">
        <!-- Inner body -->
        <c:Paragraph emailLabel="{!templateLabels['body']}"/>
        <c:EmailActionBtn buttonLabel="{!buttonLabel}" buttonURL="{!buttonURL}"/>
    </c:EmailWireframe>

    <!-- PI Delegate -->
    <c:EmailWireframe rendered="{!AND(isDelegate, userMode == 'PI')}"
                      recipientId="{!recordId}"
                      sourceId="{!recordId}"
                      header="{!templateLabels['header']}"
                      title="{!templateLabels['title']}"
                      greeting="{!templateLabels['greeting']}"
                      signature="{!templateLabels['signature']}">
        <!-- Inner body -->
        <c:Paragraph emailLabel="{!templateLabels['body']}"/>
        <c:EmailTemplateDelegate/>
        <c:EmailActionBtn buttonLabel="{!buttonLabel}" buttonURL="{!buttonURL}"/>
    </c:EmailWireframe>

    <!-- HCP -->
    <c:EmailWireframe rendered="{!AND(NOT(isDelegate), userMode == 'HCP')}"
                      recipientId="{!recordId}"
                      sourceId="{!recordId}"
                      header="{!templateLabels['header']}"
                      title="{!templateLabels['title']}"
                      greeting="{!templateLabels['greeting']}"
                      signature="{!templateLabels['signature']}">
        <!-- Inner body -->
        <c:Paragraph emailLabel="{!templateLabels['body']}"/>
        <c:EmailActionBtn buttonLabel="{!buttonLabel}" buttonURL="{!buttonURL}"/>
    </c:EmailWireframe>

    <!-- HCP Delegate -->
    <c:EmailWireframe rendered="{!AND(isDelegate, userMode == 'HCP')}"
                      recipientId="{!recordId}"
                      sourceId="{!recordId}"
                      header="{!templateLabels['header']}"
                      title="{!templateLabels['title']}"
                      greeting="{!templateLabels['greeting']}"
                      signature="{!templateLabels['signature']}">
        <!-- Inner body -->
        <c:Paragraph emailLabel="{!templateLabels['body']}"/>
        <c:EmailTemplateDelegate/>
        <c:EmailActionBtn buttonLabel="{!buttonLabel}" buttonURL="{!buttonURL}"/>
    </c:EmailWireframe>

</apex:component>