<template>
    <lightning-card>
        <div>
            <div class="location-title">{label.location}</div>
            <div class="address-section-outer">
                <div class="address-section">
                    <div class="address-marker">
                        <c-web-icon
                            class="svg-icon"
                            icon-size="medium"
                            icon-name="location_pin"
                            data-id="locationpin"
                            icon-color="#00A3E0"
                        >
                        </c-web-icon>
                    </div>
                    <div class="site-name"><b>{sitename}</b></div>
                </div>
                <div class="site-address">{siteaddress}</div>
                <div class="site-phone">{sitephone}</div>
            </div>
            <div>
                <c-pp-date-time-combo
                    data-id="visitDateTime"
                    if:false={past}
                    reminder={booleanFalse}
                    compdate={compDate}
                    comptime={compTime}
                    mindate={currentDate}
                    mintime={currentTime}
                    ondatechange={handleDate}
                    ontimechange={handleTime}
                    oninitialdateload={handleInitialDateLoad}
                    oninitialtimeload={handleInitialTimeLoad}
                ></c-pp-date-time-combo>
                <div if:true={past} class="slds-grid slds-wrap">
                    <div class="slds-col slds-size_1-of-2 slds-p-left_none">
                        {label.date}
                        <div class="curve-input">
                            <c-web-icon
                                class="svg-icon"
                                icon-size="medium"
                                icon-name="calendar"
                                data-id="date"
                                icon-color="#00A3E0"
                            >
                            </c-web-icon>
                            <input disabled type="date" id="disableddate" value={dbCompletedDate} />
                        </div>
                    </div>
                </div>
            </div>
            <div>
                <div class="slds-grid slds-wrap">
                    <div class="slds-col slds-size_1-of-1 slds-small-size_1-of-2 slds-p-left_none">
                        <div if:false={past}>
                            <label>{label.reminder}</label>
                            <div class="curve-input">
                                <c-web-icon
                                    class="svg-icon"
                                    icon-size="small"
                                    icon-name="reminderbell_icom"
                                    data-id="reminderbell"
                                    icon-color="#00A3E0"
                                >
                                </c-web-icon>
                                <lightning-combobox
                                    data:id="reminderOption"
                                    placeholder={label.selectreminder}
                                    value={dbReminderOption}
                                    onchange={doValidateFields}
                                    options={reminderFrequencyList}
                                    disabled={showReminders}
                                ></lightning-combobox>
                            </div>
                        </div>
                    </div>
                    <div
                        if:false={past}
                        class="slds-col slds-size_3-of-4 slds-small-size_1-of-2 comm-checks"
                    >
                        <div if:true={showEmailSms}>
                            <lightning-input
                                data:id="emailField"
                                label={label.email}
                                type="checkbox"
                                name={label.email}
                                value={visitdata.task.Remind_Using_Email__c}
                                enabled={emailOptIn}
                                checked={visitdata.task.Remind_Using_Email__c}
                                onchange={setAttributeValueEmail}
                            ></lightning-input>
                            <lightning-input
                                data:id="smsField"
                                type="checkbox"
                                label={label.sms}
                                name={label.sms}
                                value={visitdata.task.Remind_Using_SMS__c}
                                enabled={smsOptIn}
                                checked={visitdata.task.Remind_Using_SMS__c}
                                onchange={setAttributeValueSms}
                            ></lightning-input>
                        </div>
                    </div>
                </div>
                <div class="slds-grid slds-wrap acc-pref" if:false={past}>
                    <div if:true={showEmailSms}>
                        <a class="comm-link" href={url}>
                            <span>{label.PREFERENCES}</span>
                        </a>
                    </div>
                </div>
                <div if:false={past} style="padding-bottom: 24px">
                    <c-pp-date-time-combo
                        if:true={showreminderdatepicker}
                        data-id="reminderDateTime"
                        compdate={dbreminderdate}
                        comptime={dbremindertime}
                        reminder={booleanTrue}
                        mindate={currentDate}
                        maxdate={visitDate}
                        mintime={minReminderTime}
                        maxtime={maxReminderTime}
                        ondatechange={handleReminderDate}
                        ontimechange={handleReminderTime}
                        oninitialdateload={handleInitialReminderDateLoad}
                        oninitialtimeload={handleInitialReminderTimeLoad}
                        ondate={handleOnlyDate}
                        ontimw={handleOnlyTime}
                    ></c-pp-date-time-combo>
                </div>
            </div>
            <div if:false={past} class="slds-size_1-of-1 btn-footer">
                <button
                    class="secondaryBtn slds-button"
                    disabled={disableButtonSaveCancel}
                    type="button"
                    onclick={doCancel}
                >
                    {label.discard}
                </button>
                <button
                    class="primaryBtn slds-button"
                    disabled={disableButtonSaveCancel}
                    type="button"
                    onclick={doSave}
                >
                    {label.saveChanges}
                </button>
            </div>
        </div>
    </lightning-card>
</template>
