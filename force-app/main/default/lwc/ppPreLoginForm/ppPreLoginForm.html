<template>
    <template if:false={isLockOut}>
        <template lwc:if={loadSpinner}>
            <lightning-spinner alternative-text="Loading" variant="brand"></lightning-spinner>
        </template>
         <template lwc:if={iframeReq}>
            <div>
                 <iframe   style="width: 0; height:0; border: 0; border: none; position: absolute;" src={patientSSOUrl}
                 ></iframe>     
             </div>
         </template>
        <div class="slds-grid slds-grid_align-center">
            <div class="slds-col">
                <div class="patient-care-txt">{label.PP_For_Participants_and_Caregivers}</div>
                <div class="prof-clinical-txt">{label.PP_Connecting_professionals}</div>
                <template if:true={inError}>
                    <div class="login-validation" style="margin-top: -1em; margin-bottom: 0.5em">
                        <img style={errorIconPosition} src={exclamation} />
                        <span style={erroContainerPosition}>
                            <lightning-formatted-rich-text
                                class="error-container"
                                value={errorMsg}
                            ></lightning-formatted-rich-text>
                        </span>
                    </div>
                </template>
                <div class="slds-form-element">
                    <label class="slds-form-element__label" for="userName">{label.userName}</label>
                    <div class="slds-form-element__control">
                        <input
                            type="text"
                            data-id="userName"
                            class={className}
                            onkeyup={handleuserNameChange}
                            oninput={handleUsername}
                            value={usrName}
                        />
                    </div>
                    <div class="slds-grid forgot-unable-link">
                        <div class="slds-col slds-size_6-of-12">
                            <span onclick={handleForgotPassword1} class="forgot-unable-pwd-txt font-thickness">
                                Forgot Username?
                            </span>
                        </div>
                    </div>
                    <button class="primaryBtn slds-button btn-login" onclick={handleNext}>
                         Next
                    </button>
                </div>
            </div>
        </div>
    </template>
    <template if:true={isLockOut}>
        <c-pplockout milli-seconds-left={timeLeft} onunlock={handleUnlock}></c-pplockout>
        <div class="slds-align_absolute-center unable-to-log-in">
            <lightning-button
                variant="base"
                label={label.unableToLogin}
                onclick={handleUnableToLogin}
                class="forgot-unable-pwd-txt unable-login"
            >
            </lightning-button>
        </div>
        <template if:true={showPopup}>
            <c-pp-unable-to-login
                user-id={userNam}
                onmodalclose={handleModalClose}
            ></c-pp-unable-to-login>
        </template>
    </template> 
    <c-web-spinner fixed="true"></c-web-spinner>
    <c-pp-cookies-banner is-r-t-l={isRTL} login-page="true" community-name="PatientPortal"></c-pp-cookies-banner>
</template>