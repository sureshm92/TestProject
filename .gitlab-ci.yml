stages:

  #Validation:
  - VALIDATE

  #5.0 INT
  - DeployINT5.0
  - RunTestINT5.0

  #5.0 INF
  - DeployINF5.0
  - RunTestINF5.0

  #5.1 INT
  - DeployINT5.1
  - RunTestINT5.1
  
  #6.0 INT
  - DeployINT6.0
  - RunTestINT6.0

  
  #5.1 INF
  - DeployINF5.1
  - RunTestINF5.1



cache:
  paths:
    - ~/.sfdx
    - .sfdx


# Validation: ------------------------------------------------------------------
VALIDATE:
  tags:
    - shell
  only:
    - merge_requests
  except:
    - push
    - commit

  stage: VALIDATE
  script:
    - . ./scripts/ci/validate.sh INF4


# 5.0 INT: ---------------------------------------------------------------------
DeployINT5.0:
  tags:
    - shell
  only:
    - INT5.0
  except:
    - merge_requests

  stage: DeployINT5.0
  script:
    - . ./scripts/ci/deploy.sh INT5_0

RunTestINT5.0:
  tags:
    - shell
  only:
    - INT5.0
  except:
    - merge_requests

  stage: RunTestINT5.0
  script:
    - . ./scripts/ci/run-tests.sh INT5_0



# 5.0 INF: ---------------------------------------------------------------------
DeployINF5.0:
  tags:
    - shell
  only:
    - INF5.0
  except:
    - merge_requests

  stage: DeployINF5.0
  script:
    - . ./scripts/ci/deploy.sh INF5_0

RunTestINF5.0:
  tags:
    - shell
  only:
    - INF5.0
  except:
    - merge_requests

  stage: RunTestINF5.0
  script:
    - . ./scripts/ci/run-tests.sh INF5_0

# 5.1 INT: ---------------------------------------------------------------------
DeployINT5.1:
  tags:
    - shell
  only:
    - INT5.1
  except:
    - merge_requests

  stage: DeployINT5.1
  script:
    - . ./scripts/ci/deploy.sh INT5_1

RunTestINT5.1:
  tags:
    - shell
  only:
    - INT5.1
  except:
    - merge_requests

  stage: RunTestINT5.1
  script:
    - . ./scripts/ci/run-tests.sh INT5_1
    
    # 5.1 INT: ---------------------------------------------------------------------
DeployINT6.0:
  tags:
    - shell
  only:
    - INT6.0
  except:
    - merge_requests

  stage: DeployINT6.0
  script:
    - . ./scripts/ci/deploy.sh INT60

RunTestINT6.0:
  tags:
    - shell
  only:
    - INT6.0
  except:
    - merge_requests

  stage: RunTestINT6.0
  script:
    - . ./scripts/ci/run-tests.sh INT60
    
    # 5.1 INF: ---------------------------------------------------------------------
DeployINF5.1:
  tags:
    - shell
  only:
    - INF5.1
  except:
    - merge_requests

  stage: DeployINF5.1
  script:
    - . ./scripts/ci/deploy.sh INF5_1

RunTestINF5.1:
  tags:
    - shell
  only:
    - INF5.1
  except:
    - merge_requests

  stage: RunTestINF5.1
  script:
    - . ./scripts/ci/run-tests.sh INF5_1



